(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Fc={exports:{}},Bo={},Uc={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function jy(){if(ip)return we;ip=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),V=Symbol.iterator;function F(N){return N===null||typeof N!="object"?null:(N=V&&N[V]||N["@@iterator"],typeof N=="function"?N:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,Y={};function H(N,b,oe){this.props=N,this.context=b,this.refs=Y,this.updater=oe||B}H.prototype.isReactComponent={},H.prototype.setState=function(N,b){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,b,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ge(){}ge.prototype=H.prototype;function ye(N,b,oe){this.props=N,this.context=b,this.refs=Y,this.updater=oe||B}var _e=ye.prototype=new ge;_e.constructor=ye,X(_e,H.prototype),_e.isPureReactComponent=!0;var Ie=Array.isArray,Je=Object.prototype.hasOwnProperty,Ve={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(N,b,oe){var ve,Ee={},Re=null,xe=null;if(b!=null)for(ve in b.ref!==void 0&&(xe=b.ref),b.key!==void 0&&(Re=""+b.key),b)Je.call(b,ve)&&!k.hasOwnProperty(ve)&&(Ee[ve]=b[ve]);var Le=arguments.length-2;if(Le===1)Ee.children=oe;else if(1<Le){for(var Be=Array(Le),pt=0;pt<Le;pt++)Be[pt]=arguments[pt+2];Ee.children=Be}if(N&&N.defaultProps)for(ve in Le=N.defaultProps,Le)Ee[ve]===void 0&&(Ee[ve]=Le[ve]);return{$$typeof:i,type:N,key:Re,ref:xe,props:Ee,_owner:Ve.current}}function A(N,b){return{$$typeof:i,type:N.type,key:b,ref:N.ref,props:N.props,_owner:N._owner}}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function D(N){var b={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return b[oe]})}var x=/\/+/g;function S(N,b){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):b.toString(36)}function Ze(N,b,oe,ve,Ee){var Re=typeof N;(Re==="undefined"||Re==="boolean")&&(N=null);var xe=!1;if(N===null)xe=!0;else switch(Re){case"string":case"number":xe=!0;break;case"object":switch(N.$$typeof){case i:case e:xe=!0}}if(xe)return xe=N,Ee=Ee(xe),N=ve===""?"."+S(xe,0):ve,Ie(Ee)?(oe="",N!=null&&(oe=N.replace(x,"$&/")+"/"),Ze(Ee,b,oe,"",function(pt){return pt})):Ee!=null&&(P(Ee)&&(Ee=A(Ee,oe+(!Ee.key||xe&&xe.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+N)),b.push(Ee)),1;if(xe=0,ve=ve===""?".":ve+":",Ie(N))for(var Le=0;Le<N.length;Le++){Re=N[Le];var Be=ve+S(Re,Le);xe+=Ze(Re,b,oe,Be,Ee)}else if(Be=F(N),typeof Be=="function")for(N=Be.call(N),Le=0;!(Re=N.next()).done;)Re=Re.value,Be=ve+S(Re,Le++),xe+=Ze(Re,b,oe,Be,Ee);else if(Re==="object")throw b=String(N),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return xe}function Ct(N,b,oe){if(N==null)return N;var ve=[],Ee=0;return Ze(N,ve,"","",function(Re){return b.call(oe,Re,Ee++)}),ve}function Pt(N){if(N._status===-1){var b=N._result;b=b(),b.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=b)}if(N._status===1)return N._result.default;throw N._result}var Fe={current:null},J={transition:null},le={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:J,ReactCurrentOwner:Ve};function ee(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Ct,forEach:function(N,b,oe){Ct(N,function(){b.apply(this,arguments)},oe)},count:function(N){var b=0;return Ct(N,function(){b++}),b},toArray:function(N){return Ct(N,function(b){return b})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},we.Component=H,we.Fragment=n,we.Profiler=a,we.PureComponent=ye,we.StrictMode=s,we.Suspense=_,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,we.act=ee,we.cloneElement=function(N,b,oe){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ve=X({},N.props),Ee=N.key,Re=N.ref,xe=N._owner;if(b!=null){if(b.ref!==void 0&&(Re=b.ref,xe=Ve.current),b.key!==void 0&&(Ee=""+b.key),N.type&&N.type.defaultProps)var Le=N.type.defaultProps;for(Be in b)Je.call(b,Be)&&!k.hasOwnProperty(Be)&&(ve[Be]=b[Be]===void 0&&Le!==void 0?Le[Be]:b[Be])}var Be=arguments.length-2;if(Be===1)ve.children=oe;else if(1<Be){Le=Array(Be);for(var pt=0;pt<Be;pt++)Le[pt]=arguments[pt+2];ve.children=Le}return{$$typeof:i,type:N.type,key:Ee,ref:Re,props:ve,_owner:xe}},we.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},we.createElement=T,we.createFactory=function(N){var b=T.bind(null,N);return b.type=N,b},we.createRef=function(){return{current:null}},we.forwardRef=function(N){return{$$typeof:m,render:N}},we.isValidElement=P,we.lazy=function(N){return{$$typeof:I,_payload:{_status:-1,_result:N},_init:Pt}},we.memo=function(N,b){return{$$typeof:E,type:N,compare:b===void 0?null:b}},we.startTransition=function(N){var b=J.transition;J.transition={};try{N()}finally{J.transition=b}},we.unstable_act=ee,we.useCallback=function(N,b){return Fe.current.useCallback(N,b)},we.useContext=function(N){return Fe.current.useContext(N)},we.useDebugValue=function(){},we.useDeferredValue=function(N){return Fe.current.useDeferredValue(N)},we.useEffect=function(N,b){return Fe.current.useEffect(N,b)},we.useId=function(){return Fe.current.useId()},we.useImperativeHandle=function(N,b,oe){return Fe.current.useImperativeHandle(N,b,oe)},we.useInsertionEffect=function(N,b){return Fe.current.useInsertionEffect(N,b)},we.useLayoutEffect=function(N,b){return Fe.current.useLayoutEffect(N,b)},we.useMemo=function(N,b){return Fe.current.useMemo(N,b)},we.useReducer=function(N,b,oe){return Fe.current.useReducer(N,b,oe)},we.useRef=function(N){return Fe.current.useRef(N)},we.useState=function(N){return Fe.current.useState(N)},we.useSyncExternalStore=function(N,b,oe){return Fe.current.useSyncExternalStore(N,b,oe)},we.useTransition=function(){return Fe.current.useTransition()},we.version="18.3.1",we}var sp;function yh(){return sp||(sp=1,Uc.exports=jy()),Uc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function by(){if(op)return Bo;op=1;var i=yh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,_,E){var I,V={},F=null,B=null;E!==void 0&&(F=""+E),_.key!==void 0&&(F=""+_.key),_.ref!==void 0&&(B=_.ref);for(I in _)s.call(_,I)&&!c.hasOwnProperty(I)&&(V[I]=_[I]);if(m&&m.defaultProps)for(I in _=m.defaultProps,_)V[I]===void 0&&(V[I]=_[I]);return{$$typeof:e,type:m,key:F,ref:B,props:V,_owner:a.current}}return Bo.Fragment=n,Bo.jsx=f,Bo.jsxs=f,Bo}var ap;function $y(){return ap||(ap=1,Fc.exports=by()),Fc.exports}var Ue=$y(),Ds=yh(),Tl={},zc={exports:{}},Qt={},Bc={exports:{}},jc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function qy(){return lp||(lp=1,function(i){function e(J,le){var ee=J.length;J.push(le);e:for(;0<ee;){var N=ee-1>>>1,b=J[N];if(0<a(b,le))J[N]=le,J[ee]=b,ee=N;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var le=J[0],ee=J.pop();if(ee!==le){J[0]=ee;e:for(var N=0,b=J.length,oe=b>>>1;N<oe;){var ve=2*(N+1)-1,Ee=J[ve],Re=ve+1,xe=J[Re];if(0>a(Ee,ee))Re<b&&0>a(xe,Ee)?(J[N]=xe,J[Re]=ee,N=Re):(J[N]=Ee,J[ve]=ee,N=ve);else if(Re<b&&0>a(xe,ee))J[N]=xe,J[Re]=ee,N=Re;else break e}}return le}function a(J,le){var ee=J.sortIndex-le.sortIndex;return ee!==0?ee:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var _=[],E=[],I=1,V=null,F=3,B=!1,X=!1,Y=!1,H=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _e(J){for(var le=n(E);le!==null;){if(le.callback===null)s(E);else if(le.startTime<=J)s(E),le.sortIndex=le.expirationTime,e(_,le);else break;le=n(E)}}function Ie(J){if(Y=!1,_e(J),!X)if(n(_)!==null)X=!0,Pt(Je);else{var le=n(E);le!==null&&Fe(Ie,le.startTime-J)}}function Je(J,le){X=!1,Y&&(Y=!1,ge(T),T=-1),B=!0;var ee=F;try{for(_e(le),V=n(_);V!==null&&(!(V.expirationTime>le)||J&&!D());){var N=V.callback;if(typeof N=="function"){V.callback=null,F=V.priorityLevel;var b=N(V.expirationTime<=le);le=i.unstable_now(),typeof b=="function"?V.callback=b:V===n(_)&&s(_),_e(le)}else s(_);V=n(_)}if(V!==null)var oe=!0;else{var ve=n(E);ve!==null&&Fe(Ie,ve.startTime-le),oe=!1}return oe}finally{V=null,F=ee,B=!1}}var Ve=!1,k=null,T=-1,A=5,P=-1;function D(){return!(i.unstable_now()-P<A)}function x(){if(k!==null){var J=i.unstable_now();P=J;var le=!0;try{le=k(!0,J)}finally{le?S():(Ve=!1,k=null)}}else Ve=!1}var S;if(typeof ye=="function")S=function(){ye(x)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Ct=Ze.port2;Ze.port1.onmessage=x,S=function(){Ct.postMessage(null)}}else S=function(){H(x,0)};function Pt(J){k=J,Ve||(Ve=!0,S())}function Fe(J,le){T=H(function(){J(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_continueExecution=function(){X||B||(X=!0,Pt(Je))},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return F},i.unstable_getFirstCallbackNode=function(){return n(_)},i.unstable_next=function(J){switch(F){case 1:case 2:case 3:var le=3;break;default:le=F}var ee=F;F=le;try{return J()}finally{F=ee}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=F;F=J;try{return le()}finally{F=ee}},i.unstable_scheduleCallback=function(J,le,ee){var N=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?N+ee:N):ee=N,J){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=ee+b,J={id:I++,callback:le,priorityLevel:J,startTime:ee,expirationTime:b,sortIndex:-1},ee>N?(J.sortIndex=ee,e(E,J),n(_)===null&&J===n(E)&&(Y?(ge(T),T=-1):Y=!0,Fe(Ie,ee-N))):(J.sortIndex=b,e(_,J),X||B||(X=!0,Pt(Je))),J},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(J){var le=F;return function(){var ee=F;F=le;try{return J.apply(this,arguments)}finally{F=ee}}}}(jc)),jc}var up;function Hy(){return up||(up=1,Bc.exports=qy()),Bc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function Wy(){if(cp)return Qt;cp=1;var i=yh(),e=Hy();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},V={};function F(t){return _.call(V,t)?!0:_.call(I,t)?!1:E.test(t)?V[t]=!0:(I[t]=!0,!1)}function B(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function X(t,r,o,u){if(r===null||typeof r>"u"||B(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Y(t,r,o,u,h,p,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=y}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){H[t]=new Y(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];H[r]=new Y(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){H[t]=new Y(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){H[t]=new Y(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){H[t]=new Y(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){H[t]=new Y(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){H[t]=new Y(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){H[t]=new Y(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){H[t]=new Y(t,5,!1,t.toLowerCase(),null,!1,!1)});var ge=/[\-:]([a-z])/g;function ye(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ge,ye);H[r]=new Y(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ge,ye);H[r]=new Y(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ge,ye);H[r]=new Y(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){H[t]=new Y(t,1,!1,t.toLowerCase(),null,!1,!1)}),H.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){H[t]=new Y(t,1,!1,t.toLowerCase(),null,!0,!0)});function _e(t,r,o,u){var h=H.hasOwnProperty(r)?H[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(X(r,o,h,u)&&(o=null),u||h===null?F(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Ie=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Je=Symbol.for("react.element"),Ve=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),J=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,N;function b(t){if(N===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);N=r&&r[1]||""}return`
`+N+t}var oe=!1;function ve(t,r){if(!t||oe)return"";oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var u=U}Reflect.construct(t,[],r)}else{try{r.call()}catch(U){u=U}t.call(r.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),p=u.stack.split(`
`),y=h.length-1,w=p.length-1;1<=y&&0<=w&&h[y]!==p[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==p[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==p[w]){var R=`
`+h[y].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=y&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?b(t):""}function Ee(t){switch(t.tag){case 5:return b(t.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return t=ve(t.type,!1),t;case 11:return t=ve(t.type.render,!1),t;case 1:return t=ve(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case Ve:return"Portal";case A:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case x:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ct:return r=t.displayName||null,r!==null?r:Re(t.type)||"Memo";case Pt:r=t._payload,t=t._init;try{return Re(t(r))}catch{}}return null}function xe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Le(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qn(t){t._valueTracker||(t._valueTracker=pt(t))}function xi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jr(t,r){var o=r.checked;return ee({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Li(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Le(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Hs(t,r){r=r.checked,r!=null&&_e(t,"checked",r,!1)}function Ws(t,r){Hs(t,r);var o=Le(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Mi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Mi(t,r.type,Le(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function aa(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Mi(t,r,o){(r!=="number"||mr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Kn=Array.isArray;function Gn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Le(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Kn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Le(o)}}function Fi(t,r){var o=Le(r.value),u=Le(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Ks(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ot(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ot(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xn,Gs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Xn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function gr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ei=["Webkit","ms","Moz","O"];Object.keys(Zr).forEach(function(t){ei.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Zr[r]=Zr[t]})});function Xs(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Zr.hasOwnProperty(t)&&Zr[t]?(""+r).trim():r+"px"}function Ys(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Xs(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var Js=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zs(t,r){if(r){if(Js[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function eo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ti=null;function Ui(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,on=null,Nn=null;function Bi(t){if(t=Ao(t)){if(typeof zi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Fa(r),zi(t.stateNode,t.type,r))}}function xn(t){on?Nn?Nn.push(t):Nn=[t]:on=t}function to(){if(on){var t=on,r=Nn;if(Nn=on=null,Bi(t),r)for(t=0;t<r.length;t++)Bi(r[t])}}function ni(t,r){return t(r)}function no(){}var Yn=!1;function ro(t,r,o){if(Yn)return t(r,o);Yn=!0;try{return ni(t,r,o)}finally{Yn=!1,(on!==null||Nn!==null)&&(no(),to())}}function et(t,r){var o=t.stateNode;if(o===null)return null;var u=Fa(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ji=!1;if(m)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){ji=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{ji=!1}function ri(t,r,o,u,h,p,y,w,R){var U=Array.prototype.slice.call(arguments,3);try{r.apply(o,U)}catch(q){this.onError(q)}}var ii=!1,bi=null,yn=!1,io=null,hu={onError:function(t){ii=!0,bi=t}};function $i(t,r,o,u,h,p,y,w,R){ii=!1,bi=null,ri.apply(hu,arguments)}function la(t,r,o,u,h,p,y,w,R){if($i.apply(this,arguments),ii){if(ii){var U=bi;ii=!1,bi=null}else throw Error(n(198));yn||(yn=!0,io=U)}}function _n(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function si(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function vn(t){if(_n(t)!==t)throw Error(n(188))}function ua(t){var r=t.alternate;if(!r){if(r=_n(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return vn(h),t;if(p===u)return vn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var y=!1,w=h.child;w;){if(w===o){y=!0,o=h,u=p;break}if(w===u){y=!0,u=h,o=p;break}w=w.sibling}if(!y){for(w=p.child;w;){if(w===o){y=!0,o=p,u=h;break}if(w===u){y=!0,u=p,o=h;break}w=w.sibling}if(!y)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function so(t){return t=ua(t),t!==null?qi(t):null}function qi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=qi(t);if(r!==null)return r;t=t.sibling}return null}var Hi=e.unstable_scheduleCallback,oo=e.unstable_cancelCallback,ca=e.unstable_shouldYield,fu=e.unstable_requestPaint,je=e.unstable_now,ha=e.unstable_getCurrentPriorityLevel,oi=e.unstable_ImmediatePriority,yr=e.unstable_UserBlockingPriority,an=e.unstable_NormalPriority,ao=e.unstable_LowPriority,fa=e.unstable_IdlePriority,ai=null,Xt=null;function da(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ai,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:ma,lo=Math.log,pa=Math.LN2;function ma(t){return t>>>=0,t===0?32:31-(lo(t)/pa|0)|0}var Wi=64,Qi=4194304;function _r(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function li(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,y=o&268435455;if(y!==0){var w=y&~h;w!==0?u=_r(w):(p&=y,p!==0&&(u=_r(p)))}else y=o&~h,y!==0?u=_r(y):p!==0&&(u=_r(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ot(r),h=1<<o,u|=t[o],r&=~h;return u}function du(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var y=31-Ot(p),w=1<<y,R=h[y];R===-1?(!(w&o)||w&u)&&(h[y]=du(w,r)):R<=r&&(t.expiredLanes|=w),p&=~w}}function Yt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ui(){var t=Wi;return Wi<<=1,!(Wi&4194240)&&(Wi=64),t}function vr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Er(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ot(r),t[r]=o}function ze(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ot(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function wr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ot(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Se=0;function Tr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ga,Ki,ya,_a,va,uo=!1,Ln=[],Et=null,En=null,wn=null,Ir=new Map,ln=new Map,Mn=[],pu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ea(t,r){switch(t){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Ir.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(r.pointerId)}}function Bt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Ao(r),r!==null&&Ki(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function mu(t,r,o,u,h){switch(r){case"focusin":return Et=Bt(Et,t,r,o,u,h),!0;case"dragenter":return En=Bt(En,t,r,o,u,h),!0;case"mouseover":return wn=Bt(wn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Ir.set(p,Bt(Ir.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,ln.set(p,Bt(ln.get(p)||null,t,r,o,u,h)),!0}return!1}function wa(t){var r=pi(t.target);if(r!==null){var o=_n(r);if(o!==null){if(r=o.tag,r===13){if(r=si(o),r!==null){t.blockedOn=r,va(t.priority,function(){ya(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zn(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Gi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ti=u,o.target.dispatchEvent(u),ti=null}else return r=Ao(o),r!==null&&Ki(r),t.blockedOn=o,!1;r.shift()}return!0}function ci(t,r,o){Zn(t)&&o.delete(r)}function Ta(){uo=!1,Et!==null&&Zn(Et)&&(Et=null),En!==null&&Zn(En)&&(En=null),wn!==null&&Zn(wn)&&(wn=null),Ir.forEach(ci),ln.forEach(ci)}function Tn(t,r){t.blockedOn===r&&(t.blockedOn=null,uo||(uo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ta)))}function In(t){function r(h){return Tn(h,t)}if(0<Ln.length){Tn(Ln[0],t);for(var o=1;o<Ln.length;o++){var u=Ln[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Et!==null&&Tn(Et,t),En!==null&&Tn(En,t),wn!==null&&Tn(wn,t),Ir.forEach(r),ln.forEach(r),o=0;o<Mn.length;o++)u=Mn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Mn.length&&(o=Mn[0],o.blockedOn===null);)wa(o),o.blockedOn===null&&Mn.shift()}var er=Ie.ReactCurrentBatchConfig,Sr=!0;function He(t,r,o,u){var h=Se,p=er.transition;er.transition=null;try{Se=1,co(t,r,o,u)}finally{Se=h,er.transition=p}}function gu(t,r,o,u){var h=Se,p=er.transition;er.transition=null;try{Se=4,co(t,r,o,u)}finally{Se=h,er.transition=p}}function co(t,r,o,u){if(Sr){var h=Gi(t,r,o,u);if(h===null)Cu(t,r,u,hi,o),Ea(t,u);else if(mu(h,t,r,o,u))u.stopPropagation();else if(Ea(t,u),r&4&&-1<pu.indexOf(t)){for(;h!==null;){var p=Ao(h);if(p!==null&&ga(p),p=Gi(t,r,o,u),p===null&&Cu(t,r,u,hi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Cu(t,r,u,null,o)}}var hi=null;function Gi(t,r,o,u){if(hi=null,t=Ui(u),t=pi(t),t!==null)if(r=_n(t),r===null)t=null;else if(o=r.tag,o===13){if(t=si(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return hi=t,null}function ho(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ha()){case oi:return 1;case yr:return 4;case an:case ao:return 16;case fa:return 536870912;default:return 16}default:return 16}}var Jt=null,Xi=null,jt=null;function fo(){if(jt)return jt;var t,r=Xi,o=r.length,u,h="value"in Jt?Jt.value:Jt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var y=o-t;for(u=1;u<=y&&r[o-u]===h[p-u];u++);return jt=h.slice(t,1<u?1-u:void 0)}function Yi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function On(){return!0}function po(){return!1}function wt(t){function r(o,u,h,p,y){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?On:po,this.isPropagationStopped=po,this}return ee(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=wt(Sn),Fn=ee({},Sn,{view:0,detail:0}),yu=wt(Fn),Zi,tr,Ar,fi=ee({},Fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Un,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(Zi=t.screenX-Ar.screenX,tr=t.screenY-Ar.screenY):tr=Zi=0,Ar=t),Zi)},movementY:function(t){return"movementY"in t?t.movementY:tr}}),es=wt(fi),mo=ee({},fi,{dataTransfer:0}),Ia=wt(mo),ts=ee({},Fn,{relatedTarget:0}),ns=wt(ts),Sa=ee({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),nr=wt(Sa),Aa=ee({},Sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ra=wt(Aa),Ca=ee({},Sn,{data:0}),go=wt(Ca),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ka(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Pa[t])?!!r[t]:!1}function Un(){return ka}var l=ee({},Fn,{key:function(t){if(t.key){var r=rs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Yi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ft[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Un,charCode:function(t){return t.type==="keypress"?Yi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=wt(l),g=ee({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=wt(g),L=ee({},Fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Un}),z=wt(L),G=ee({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oe=wt(G),lt=ee({},fi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=wt(lt),mt=[9,13,27,32],rt=m&&"CompositionEvent"in window,un=null;m&&"documentMode"in document&&(un=document.documentMode);var Zt=m&&"TextEvent"in window&&!un,di=m&&(!rt||un&&8<un&&11>=un),is=" ",Yh=!1;function Jh(t,r){switch(t){case"keyup":return mt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function zg(t,r){switch(t){case"compositionend":return Zh(r);case"keypress":return r.which!==32?null:(Yh=!0,is);case"textInput":return t=r.data,t===is&&Yh?null:t;default:return null}}function Bg(t,r){if(ss)return t==="compositionend"||!rt&&Jh(t,r)?(t=fo(),jt=Xi=Jt=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return di&&r.locale!=="ko"?null:r.data;default:return null}}var jg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!jg[t.type]:r==="textarea"}function tf(t,r,o,u){xn(u),r=La(r,"onChange"),0<r.length&&(o=new Ji("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var yo=null,_o=null;function bg(t){Ef(t,0)}function Va(t){var r=cs(t);if(xi(r))return t}function $g(t,r){if(t==="change")return r}var nf=!1;if(m){var _u;if(m){var vu="oninput"in document;if(!vu){var rf=document.createElement("div");rf.setAttribute("oninput","return;"),vu=typeof rf.oninput=="function"}_u=vu}else _u=!1;nf=_u&&(!document.documentMode||9<document.documentMode)}function sf(){yo&&(yo.detachEvent("onpropertychange",of),_o=yo=null)}function of(t){if(t.propertyName==="value"&&Va(_o)){var r=[];tf(r,_o,t,Ui(t)),ro(bg,r)}}function qg(t,r,o){t==="focusin"?(sf(),yo=r,_o=o,yo.attachEvent("onpropertychange",of)):t==="focusout"&&sf()}function Hg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Va(_o)}function Wg(t,r){if(t==="click")return Va(r)}function Qg(t,r){if(t==="input"||t==="change")return Va(r)}function Kg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:Kg;function vo(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!_.call(r,h)||!An(t[h],r[h]))return!1}return!0}function af(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lf(t,r){var o=af(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=af(o)}}function uf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?uf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function cf(){for(var t=window,r=mr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=mr(t.document)}return r}function Eu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Gg(t){var r=cf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&uf(o.ownerDocument.documentElement,o)){if(u!==null&&Eu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=lf(o,p);var y=lf(o,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xg=m&&"documentMode"in document&&11>=document.documentMode,os=null,wu=null,Eo=null,Tu=!1;function hf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Tu||os==null||os!==mr(u)||(u=os,"selectionStart"in u&&Eu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Eo&&vo(Eo,u)||(Eo=u,u=La(wu,"onSelect"),0<u.length&&(r=new Ji("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=os)))}function Da(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var as={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionend:Da("Transition","TransitionEnd")},Iu={},ff={};m&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Na(t){if(Iu[t])return Iu[t];if(!as[t])return t;var r=as[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in ff)return Iu[t]=r[o];return t}var df=Na("animationend"),pf=Na("animationiteration"),mf=Na("animationstart"),gf=Na("transitionend"),yf=new Map,_f="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,r){yf.set(t,r),c(r,[t])}for(var Su=0;Su<_f.length;Su++){var Au=_f[Su],Yg=Au.toLowerCase(),Jg=Au[0].toUpperCase()+Au.slice(1);Rr(Yg,"on"+Jg)}Rr(df,"onAnimationEnd"),Rr(pf,"onAnimationIteration"),Rr(mf,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(gf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zg=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function vf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,la(u,r,void 0,t),t.currentTarget=null}function Ef(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var y=u.length-1;0<=y;y--){var w=u[y],R=w.instance,U=w.currentTarget;if(w=w.listener,R!==p&&h.isPropagationStopped())break e;vf(h,w,U),p=R}else for(y=0;y<u.length;y++){if(w=u[y],R=w.instance,U=w.currentTarget,w=w.listener,R!==p&&h.isPropagationStopped())break e;vf(h,w,U),p=R}}}if(yn)throw t=io,yn=!1,io=null,t}function $e(t,r){var o=r[xu];o===void 0&&(o=r[xu]=new Set);var u=t+"__bubble";o.has(u)||(wf(r,t,2,!1),o.add(u))}function Ru(t,r,o){var u=0;r&&(u|=4),wf(o,t,u,r)}var xa="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[xa]){t[xa]=!0,s.forEach(function(o){o!=="selectionchange"&&(Zg.has(o)||Ru(o,!1,t),Ru(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[xa]||(r[xa]=!0,Ru("selectionchange",!1,r))}}function wf(t,r,o,u){switch(ho(r)){case 1:var h=He;break;case 4:h=gu;break;default:h=co}o=h.bind(null,r,o,t),h=void 0,!ji||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Cu(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;y=y.return}for(;w!==null;){if(y=pi(w),y===null)return;if(R=y.tag,R===5||R===6){u=p=y;continue e}w=w.parentNode}}u=u.return}ro(function(){var U=p,q=Ui(o),Q=[];e:{var $=yf.get(t);if($!==void 0){var Z=Ji,re=t;switch(t){case"keypress":if(Yi(o)===0)break e;case"keydown":case"keyup":Z=d;break;case"focusin":re="focus",Z=ns;break;case"focusout":re="blur",Z=ns;break;case"beforeblur":case"afterblur":Z=ns;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ia;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=z;break;case df:case pf:case mf:Z=nr;break;case gf:Z=Oe;break;case"scroll":Z=yu;break;case"wheel":Z=Ce;break;case"copy":case"cut":case"paste":Z=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=v}var ie=(r&4)!==0,tt=!ie&&t==="scroll",M=ie?$!==null?$+"Capture":null:$;ie=[];for(var C=U,O;C!==null;){O=C;var K=O.stateNode;if(O.tag===5&&K!==null&&(O=K,M!==null&&(K=et(C,M),K!=null&&ie.push(Io(C,K,O)))),tt)break;C=C.return}0<ie.length&&($=new Z($,re,null,o,q),Q.push({event:$,listeners:ie}))}}if(!(r&7)){e:{if($=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",$&&o!==ti&&(re=o.relatedTarget||o.fromElement)&&(pi(re)||re[rr]))break e;if((Z||$)&&($=q.window===q?q:($=q.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(re=o.relatedTarget||o.toElement,Z=U,re=re?pi(re):null,re!==null&&(tt=_n(re),re!==tt||re.tag!==5&&re.tag!==6)&&(re=null)):(Z=null,re=U),Z!==re)){if(ie=es,K="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ie=v,K="onPointerLeave",M="onPointerEnter",C="pointer"),tt=Z==null?$:cs(Z),O=re==null?$:cs(re),$=new ie(K,C+"leave",Z,o,q),$.target=tt,$.relatedTarget=O,K=null,pi(q)===U&&(ie=new ie(M,C+"enter",re,o,q),ie.target=O,ie.relatedTarget=tt,K=ie),tt=K,Z&&re)t:{for(ie=Z,M=re,C=0,O=ie;O;O=ls(O))C++;for(O=0,K=M;K;K=ls(K))O++;for(;0<C-O;)ie=ls(ie),C--;for(;0<O-C;)M=ls(M),O--;for(;C--;){if(ie===M||M!==null&&ie===M.alternate)break t;ie=ls(ie),M=ls(M)}ie=null}else ie=null;Z!==null&&Tf(Q,$,Z,ie,!1),re!==null&&tt!==null&&Tf(Q,tt,re,ie,!0)}}e:{if($=U?cs(U):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var se=$g;else if(ef($))if(nf)se=Qg;else{se=Hg;var ue=qg}else(Z=$.nodeName)&&Z.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(se=Wg);if(se&&(se=se(t,U))){tf(Q,se,o,q);break e}ue&&ue(t,$,U),t==="focusout"&&(ue=$._wrapperState)&&ue.controlled&&$.type==="number"&&Mi($,"number",$.value)}switch(ue=U?cs(U):window,t){case"focusin":(ef(ue)||ue.contentEditable==="true")&&(os=ue,wu=U,Eo=null);break;case"focusout":Eo=wu=os=null;break;case"mousedown":Tu=!0;break;case"contextmenu":case"mouseup":case"dragend":Tu=!1,hf(Q,o,q);break;case"selectionchange":if(Xg)break;case"keydown":case"keyup":hf(Q,o,q)}var ce;if(rt)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else ss?Jh(t,o)&&(fe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(di&&o.locale!=="ko"&&(ss||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&ss&&(ce=fo()):(Jt=q,Xi="value"in Jt?Jt.value:Jt.textContent,ss=!0)),ue=La(U,fe),0<ue.length&&(fe=new go(fe,t,null,o,q),Q.push({event:fe,listeners:ue}),ce?fe.data=ce:(ce=Zh(o),ce!==null&&(fe.data=ce)))),(ce=Zt?zg(t,o):Bg(t,o))&&(U=La(U,"onBeforeInput"),0<U.length&&(q=new go("onBeforeInput","beforeinput",null,o,q),Q.push({event:q,listeners:U}),q.data=ce))}Ef(Q,r)})}function Io(t,r,o){return{instance:t,listener:r,currentTarget:o}}function La(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=et(t,o),p!=null&&u.unshift(Io(t,p,h)),p=et(t,r),p!=null&&u.push(Io(t,p,h))),t=t.return}return u}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tf(t,r,o,u,h){for(var p=r._reactName,y=[];o!==null&&o!==u;){var w=o,R=w.alternate,U=w.stateNode;if(R!==null&&R===u)break;w.tag===5&&U!==null&&(w=U,h?(R=et(o,p),R!=null&&y.unshift(Io(o,R,w))):h||(R=et(o,p),R!=null&&y.push(Io(o,R,w)))),o=o.return}y.length!==0&&t.push({event:r,listeners:y})}var ey=/\r\n?/g,ty=/\u0000|\uFFFD/g;function If(t){return(typeof t=="string"?t:""+t).replace(ey,`
`).replace(ty,"")}function Ma(t,r,o){if(r=If(r),If(t)!==r&&o)throw Error(n(425))}function Oa(){}var Pu=null,ku=null;function Vu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Du=typeof setTimeout=="function"?setTimeout:void 0,ny=typeof clearTimeout=="function"?clearTimeout:void 0,Sf=typeof Promise=="function"?Promise:void 0,ry=typeof queueMicrotask=="function"?queueMicrotask:typeof Sf<"u"?function(t){return Sf.resolve(null).then(t).catch(iy)}:Du;function iy(t){setTimeout(function(){throw t})}function Nu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),In(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);In(r)}function Cr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Af(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),zn="__reactFiber$"+us,So="__reactProps$"+us,rr="__reactContainer$"+us,xu="__reactEvents$"+us,sy="__reactListeners$"+us,oy="__reactHandles$"+us;function pi(t){var r=t[zn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[rr]||o[zn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Af(t);t!==null;){if(o=t[zn])return o;t=Af(t)}return r}t=o,o=t.parentNode}return null}function Ao(t){return t=t[zn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Fa(t){return t[So]||null}var Lu=[],hs=-1;function Pr(t){return{current:t}}function qe(t){0>hs||(t.current=Lu[hs],Lu[hs]=null,hs--)}function be(t,r){hs++,Lu[hs]=t.current,t.current=r}var kr={},kt=Pr(kr),bt=Pr(!1),mi=kr;function fs(t,r){var o=t.type.contextTypes;if(!o)return kr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function $t(t){return t=t.childContextTypes,t!=null}function Ua(){qe(bt),qe(kt)}function Rf(t,r,o){if(kt.current!==kr)throw Error(n(168));be(kt,r),be(bt,o)}function Cf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,xe(t)||"Unknown",h));return ee({},o,u)}function za(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,mi=kt.current,be(kt,t),be(bt,bt.current),!0}function Pf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Cf(t,r,mi),u.__reactInternalMemoizedMergedChildContext=t,qe(bt),qe(kt),be(kt,t)):qe(bt),be(bt,o)}var ir=null,Ba=!1,Mu=!1;function kf(t){ir===null?ir=[t]:ir.push(t)}function ay(t){Ba=!0,kf(t)}function Vr(){if(!Mu&&ir!==null){Mu=!0;var t=0,r=Se;try{var o=ir;for(Se=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ir=null,Ba=!1}catch(h){throw ir!==null&&(ir=ir.slice(t+1)),Hi(oi,Vr),h}finally{Se=r,Mu=!1}}return null}var ds=[],ps=0,ja=null,ba=0,cn=[],hn=0,gi=null,sr=1,or="";function yi(t,r){ds[ps++]=ba,ds[ps++]=ja,ja=t,ba=r}function Vf(t,r,o){cn[hn++]=sr,cn[hn++]=or,cn[hn++]=gi,gi=t;var u=sr;t=or;var h=32-Ot(u)-1;u&=~(1<<h),o+=1;var p=32-Ot(r)+h;if(30<p){var y=h-h%5;p=(u&(1<<y)-1).toString(32),u>>=y,h-=y,sr=1<<32-Ot(r)+h|o<<h|u,or=p+t}else sr=1<<p|o<<h|u,or=t}function Ou(t){t.return!==null&&(yi(t,1),Vf(t,1,0))}function Fu(t){for(;t===ja;)ja=ds[--ps],ds[ps]=null,ba=ds[--ps],ds[ps]=null;for(;t===gi;)gi=cn[--hn],cn[hn]=null,or=cn[--hn],cn[hn]=null,sr=cn[--hn],cn[hn]=null}var en=null,tn=null,We=!1,Rn=null;function Df(t,r){var o=mn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Nf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,en=t,tn=Cr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,en=t,tn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=gi!==null?{id:sr,overflow:or}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=mn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,en=t,tn=null,!0):!1;default:return!1}}function Uu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zu(t){if(We){var r=tn;if(r){var o=r;if(!Nf(t,r)){if(Uu(t))throw Error(n(418));r=Cr(o.nextSibling);var u=en;r&&Nf(t,r)?Df(u,o):(t.flags=t.flags&-4097|2,We=!1,en=t)}}else{if(Uu(t))throw Error(n(418));t.flags=t.flags&-4097|2,We=!1,en=t}}}function xf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function $a(t){if(t!==en)return!1;if(!We)return xf(t),We=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Vu(t.type,t.memoizedProps)),r&&(r=tn)){if(Uu(t))throw Lf(),Error(n(418));for(;r;)Df(t,r),r=Cr(r.nextSibling)}if(xf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){tn=Cr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}tn=null}}else tn=en?Cr(t.stateNode.nextSibling):null;return!0}function Lf(){for(var t=tn;t;)t=Cr(t.nextSibling)}function ms(){tn=en=null,We=!1}function Bu(t){Rn===null?Rn=[t]:Rn.push(t)}var ly=Ie.ReactCurrentBatchConfig;function Ro(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(y){var w=h.refs;y===null?delete w[p]:w[p]=y},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function qa(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Mf(t){var r=t._init;return r(t._payload)}function Of(t){function r(M,C){if(t){var O=M.deletions;O===null?(M.deletions=[C],M.flags|=16):O.push(C)}}function o(M,C){if(!t)return null;for(;C!==null;)r(M,C),C=C.sibling;return null}function u(M,C){for(M=new Map;C!==null;)C.key!==null?M.set(C.key,C):M.set(C.index,C),C=C.sibling;return M}function h(M,C){return M=Ur(M,C),M.index=0,M.sibling=null,M}function p(M,C,O){return M.index=O,t?(O=M.alternate,O!==null?(O=O.index,O<C?(M.flags|=2,C):O):(M.flags|=2,C)):(M.flags|=1048576,C)}function y(M){return t&&M.alternate===null&&(M.flags|=2),M}function w(M,C,O,K){return C===null||C.tag!==6?(C=Dc(O,M.mode,K),C.return=M,C):(C=h(C,O),C.return=M,C)}function R(M,C,O,K){var se=O.type;return se===k?q(M,C,O.props.children,K,O.key):C!==null&&(C.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Pt&&Mf(se)===C.type)?(K=h(C,O.props),K.ref=Ro(M,C,O),K.return=M,K):(K=pl(O.type,O.key,O.props,null,M.mode,K),K.ref=Ro(M,C,O),K.return=M,K)}function U(M,C,O,K){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=Nc(O,M.mode,K),C.return=M,C):(C=h(C,O.children||[]),C.return=M,C)}function q(M,C,O,K,se){return C===null||C.tag!==7?(C=Ai(O,M.mode,K,se),C.return=M,C):(C=h(C,O),C.return=M,C)}function Q(M,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Dc(""+C,M.mode,O),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Je:return O=pl(C.type,C.key,C.props,null,M.mode,O),O.ref=Ro(M,null,C),O.return=M,O;case Ve:return C=Nc(C,M.mode,O),C.return=M,C;case Pt:var K=C._init;return Q(M,K(C._payload),O)}if(Kn(C)||le(C))return C=Ai(C,M.mode,O,null),C.return=M,C;qa(M,C)}return null}function $(M,C,O,K){var se=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return se!==null?null:w(M,C,""+O,K);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Je:return O.key===se?R(M,C,O,K):null;case Ve:return O.key===se?U(M,C,O,K):null;case Pt:return se=O._init,$(M,C,se(O._payload),K)}if(Kn(O)||le(O))return se!==null?null:q(M,C,O,K,null);qa(M,O)}return null}function Z(M,C,O,K,se){if(typeof K=="string"&&K!==""||typeof K=="number")return M=M.get(O)||null,w(C,M,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Je:return M=M.get(K.key===null?O:K.key)||null,R(C,M,K,se);case Ve:return M=M.get(K.key===null?O:K.key)||null,U(C,M,K,se);case Pt:var ue=K._init;return Z(M,C,O,ue(K._payload),se)}if(Kn(K)||le(K))return M=M.get(O)||null,q(C,M,K,se,null);qa(C,K)}return null}function re(M,C,O,K){for(var se=null,ue=null,ce=C,fe=C=0,_t=null;ce!==null&&fe<O.length;fe++){ce.index>fe?(_t=ce,ce=null):_t=ce.sibling;var Ne=$(M,ce,O[fe],K);if(Ne===null){ce===null&&(ce=_t);break}t&&ce&&Ne.alternate===null&&r(M,ce),C=p(Ne,C,fe),ue===null?se=Ne:ue.sibling=Ne,ue=Ne,ce=_t}if(fe===O.length)return o(M,ce),We&&yi(M,fe),se;if(ce===null){for(;fe<O.length;fe++)ce=Q(M,O[fe],K),ce!==null&&(C=p(ce,C,fe),ue===null?se=ce:ue.sibling=ce,ue=ce);return We&&yi(M,fe),se}for(ce=u(M,ce);fe<O.length;fe++)_t=Z(ce,M,fe,O[fe],K),_t!==null&&(t&&_t.alternate!==null&&ce.delete(_t.key===null?fe:_t.key),C=p(_t,C,fe),ue===null?se=_t:ue.sibling=_t,ue=_t);return t&&ce.forEach(function(zr){return r(M,zr)}),We&&yi(M,fe),se}function ie(M,C,O,K){var se=le(O);if(typeof se!="function")throw Error(n(150));if(O=se.call(O),O==null)throw Error(n(151));for(var ue=se=null,ce=C,fe=C=0,_t=null,Ne=O.next();ce!==null&&!Ne.done;fe++,Ne=O.next()){ce.index>fe?(_t=ce,ce=null):_t=ce.sibling;var zr=$(M,ce,Ne.value,K);if(zr===null){ce===null&&(ce=_t);break}t&&ce&&zr.alternate===null&&r(M,ce),C=p(zr,C,fe),ue===null?se=zr:ue.sibling=zr,ue=zr,ce=_t}if(Ne.done)return o(M,ce),We&&yi(M,fe),se;if(ce===null){for(;!Ne.done;fe++,Ne=O.next())Ne=Q(M,Ne.value,K),Ne!==null&&(C=p(Ne,C,fe),ue===null?se=Ne:ue.sibling=Ne,ue=Ne);return We&&yi(M,fe),se}for(ce=u(M,ce);!Ne.done;fe++,Ne=O.next())Ne=Z(ce,M,fe,Ne.value,K),Ne!==null&&(t&&Ne.alternate!==null&&ce.delete(Ne.key===null?fe:Ne.key),C=p(Ne,C,fe),ue===null?se=Ne:ue.sibling=Ne,ue=Ne);return t&&ce.forEach(function(By){return r(M,By)}),We&&yi(M,fe),se}function tt(M,C,O,K){if(typeof O=="object"&&O!==null&&O.type===k&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Je:e:{for(var se=O.key,ue=C;ue!==null;){if(ue.key===se){if(se=O.type,se===k){if(ue.tag===7){o(M,ue.sibling),C=h(ue,O.props.children),C.return=M,M=C;break e}}else if(ue.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Pt&&Mf(se)===ue.type){o(M,ue.sibling),C=h(ue,O.props),C.ref=Ro(M,ue,O),C.return=M,M=C;break e}o(M,ue);break}else r(M,ue);ue=ue.sibling}O.type===k?(C=Ai(O.props.children,M.mode,K,O.key),C.return=M,M=C):(K=pl(O.type,O.key,O.props,null,M.mode,K),K.ref=Ro(M,C,O),K.return=M,M=K)}return y(M);case Ve:e:{for(ue=O.key;C!==null;){if(C.key===ue)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){o(M,C.sibling),C=h(C,O.children||[]),C.return=M,M=C;break e}else{o(M,C);break}else r(M,C);C=C.sibling}C=Nc(O,M.mode,K),C.return=M,M=C}return y(M);case Pt:return ue=O._init,tt(M,C,ue(O._payload),K)}if(Kn(O))return re(M,C,O,K);if(le(O))return ie(M,C,O,K);qa(M,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,C!==null&&C.tag===6?(o(M,C.sibling),C=h(C,O),C.return=M,M=C):(o(M,C),C=Dc(O,M.mode,K),C.return=M,M=C),y(M)):o(M,C)}return tt}var gs=Of(!0),Ff=Of(!1),Ha=Pr(null),Wa=null,ys=null,ju=null;function bu(){ju=ys=Wa=null}function $u(t){var r=Ha.current;qe(Ha),t._currentValue=r}function qu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function _s(t,r){Wa=t,ju=ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(qt=!0),t.firstContext=null)}function fn(t){var r=t._currentValue;if(ju!==t)if(t={context:t,memoizedValue:r,next:null},ys===null){if(Wa===null)throw Error(n(308));ys=t,Wa.dependencies={lanes:0,firstContext:t}}else ys=ys.next=t;return r}var _i=null;function Hu(t){_i===null?_i=[t]:_i.push(t)}function Uf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,Hu(r)):(o.next=h.next,h.next=o),r.interleaved=o,ar(t,u)}function ar(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Dr=!1;function Wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Nr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,De&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,ar(t,o)}return h=u.interleaved,h===null?(r.next=r,Hu(u)):(r.next=h.next,h.next=r),u.interleaved=r,ar(t,o)}function Qa(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}function Bf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Ka(t,r,o,u){var h=t.updateQueue;Dr=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,U=R.next;R.next=null,y===null?p=U:y.next=U,y=R;var q=t.alternate;q!==null&&(q=q.updateQueue,w=q.lastBaseUpdate,w!==y&&(w===null?q.firstBaseUpdate=U:w.next=U,q.lastBaseUpdate=R))}if(p!==null){var Q=h.baseState;y=0,q=U=R=null,w=p;do{var $=w.lane,Z=w.eventTime;if((u&$)===$){q!==null&&(q=q.next={eventTime:Z,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=t,ie=w;switch($=r,Z=o,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){Q=re.call(Z,Q,$);break e}Q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,$=typeof re=="function"?re.call(Z,Q,$):re,$==null)break e;Q=ee({},Q,$);break e;case 2:Dr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,$=h.effects,$===null?h.effects=[w]:$.push(w))}else Z={eventTime:Z,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},q===null?(U=q=Z,R=Q):q=q.next=Z,y|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(q===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=q,r=h.shared.interleaved,r!==null){h=r;do y|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);wi|=y,t.lanes=y,t.memoizedState=Q}}function jf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Co={},Bn=Pr(Co),Po=Pr(Co),ko=Pr(Co);function vi(t){if(t===Co)throw Error(n(174));return t}function Qu(t,r){switch(be(ko,r),be(Po,t),be(Bn,Co),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:at(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=at(r,t)}qe(Bn),be(Bn,r)}function vs(){qe(Bn),qe(Po),qe(ko)}function bf(t){vi(ko.current);var r=vi(Bn.current),o=at(r,t.type);r!==o&&(be(Po,t),be(Bn,o))}function Ku(t){Po.current===t&&(qe(Bn),qe(Po))}var Ke=Pr(0);function Ga(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Gu=[];function Xu(){for(var t=0;t<Gu.length;t++)Gu[t]._workInProgressVersionPrimary=null;Gu.length=0}var Xa=Ie.ReactCurrentDispatcher,Yu=Ie.ReactCurrentBatchConfig,Ei=0,Ge=null,ut=null,gt=null,Ya=!1,Vo=!1,Do=0,uy=0;function Vt(){throw Error(n(321))}function Ju(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!An(t[o],r[o]))return!1;return!0}function Zu(t,r,o,u,h,p){if(Ei=p,Ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Xa.current=t===null||t.memoizedState===null?dy:py,t=o(u,h),Vo){p=0;do{if(Vo=!1,Do=0,25<=p)throw Error(n(301));p+=1,gt=ut=null,r.updateQueue=null,Xa.current=my,t=o(u,h)}while(Vo)}if(Xa.current=el,r=ut!==null&&ut.next!==null,Ei=0,gt=ut=Ge=null,Ya=!1,r)throw Error(n(300));return t}function ec(){var t=Do!==0;return Do=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ge.memoizedState=gt=t:gt=gt.next=t,gt}function dn(){if(ut===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var r=gt===null?Ge.memoizedState:gt.next;if(r!==null)gt=r,ut=t;else{if(t===null)throw Error(n(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},gt===null?Ge.memoizedState=gt=t:gt=gt.next=t}return gt}function No(t,r){return typeof r=="function"?r(t):r}function tc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ut,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var w=y=null,R=null,U=p;do{var q=U.lane;if((Ei&q)===q)R!==null&&(R=R.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var Q={lane:q,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};R===null?(w=R=Q,y=u):R=R.next=Q,Ge.lanes|=q,wi|=q}U=U.next}while(U!==null&&U!==p);R===null?y=u:R.next=w,An(u,r.memoizedState)||(qt=!0),r.memoizedState=u,r.baseState=y,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ge.lanes|=p,wi|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function nc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var y=h=h.next;do p=t(p,y.action),y=y.next;while(y!==h);An(p,r.memoizedState)||(qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function $f(){}function qf(t,r){var o=Ge,u=dn(),h=r(),p=!An(u.memoizedState,h);if(p&&(u.memoizedState=h,qt=!0),u=u.queue,rc(Qf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||gt!==null&&gt.memoizedState.tag&1){if(o.flags|=2048,xo(9,Wf.bind(null,o,u,h,r),void 0,null),yt===null)throw Error(n(349));Ei&30||Hf(o,r,h)}return h}function Hf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Wf(t,r,o,u){r.value=o,r.getSnapshot=u,Kf(r)&&Gf(t)}function Qf(t,r,o){return o(function(){Kf(r)&&Gf(t)})}function Kf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!An(t,o)}catch{return!0}}function Gf(t){var r=ar(t,1);r!==null&&Vn(r,t,1,-1)}function Xf(t){var r=jn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:t},r.queue=t,t=t.dispatch=fy.bind(null,Ge,t),[r.memoizedState,t]}function xo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Yf(){return dn().memoizedState}function Ja(t,r,o,u){var h=jn();Ge.flags|=t,h.memoizedState=xo(1|r,o,void 0,u===void 0?null:u)}function Za(t,r,o,u){var h=dn();u=u===void 0?null:u;var p=void 0;if(ut!==null){var y=ut.memoizedState;if(p=y.destroy,u!==null&&Ju(u,y.deps)){h.memoizedState=xo(r,o,p,u);return}}Ge.flags|=t,h.memoizedState=xo(1|r,o,p,u)}function Jf(t,r){return Ja(8390656,8,t,r)}function rc(t,r){return Za(2048,8,t,r)}function Zf(t,r){return Za(4,2,t,r)}function ed(t,r){return Za(4,4,t,r)}function td(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function nd(t,r,o){return o=o!=null?o.concat([t]):null,Za(4,4,td.bind(null,r,t),o)}function ic(){}function rd(t,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Ju(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function id(t,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Ju(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function sd(t,r,o){return Ei&21?(An(o,r)||(o=ui(),Ge.lanes|=o,wi|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=o)}function cy(t,r){var o=Se;Se=o!==0&&4>o?o:4,t(!0);var u=Yu.transition;Yu.transition={};try{t(!1),r()}finally{Se=o,Yu.transition=u}}function od(){return dn().memoizedState}function hy(t,r,o){var u=Or(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},ad(t))ld(r,o);else if(o=Uf(t,r,o,u),o!==null){var h=zt();Vn(o,t,u,h),ud(o,r,u)}}function fy(t,r,o){var u=Or(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(ad(t))ld(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var y=r.lastRenderedState,w=p(y,o);if(h.hasEagerState=!0,h.eagerState=w,An(w,y)){var R=r.interleaved;R===null?(h.next=h,Hu(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=Uf(t,r,h,u),o!==null&&(h=zt(),Vn(o,t,u,h),ud(o,r,u))}}function ad(t){var r=t.alternate;return t===Ge||r!==null&&r===Ge}function ld(t,r){Vo=Ya=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function ud(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}var el={readContext:fn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},dy={readContext:fn,useCallback:function(t,r){return jn().memoizedState=[t,r===void 0?null:r],t},useContext:fn,useEffect:Jf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Ja(4194308,4,td.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Ja(4194308,4,t,r)},useInsertionEffect:function(t,r){return Ja(4,2,t,r)},useMemo:function(t,r){var o=jn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=jn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=hy.bind(null,Ge,t),[u.memoizedState,t]},useRef:function(t){var r=jn();return t={current:t},r.memoizedState=t},useState:Xf,useDebugValue:ic,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=Xf(!1),r=t[0];return t=cy.bind(null,t[1]),jn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ge,h=jn();if(We){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),yt===null)throw Error(n(349));Ei&30||Hf(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,Jf(Qf.bind(null,u,p,t),[t]),u.flags|=2048,xo(9,Wf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=jn(),r=yt.identifierPrefix;if(We){var o=or,u=sr;o=(u&~(1<<32-Ot(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Do++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=uy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},py={readContext:fn,useCallback:rd,useContext:fn,useEffect:rc,useImperativeHandle:nd,useInsertionEffect:Zf,useLayoutEffect:ed,useMemo:id,useReducer:tc,useRef:Yf,useState:function(){return tc(No)},useDebugValue:ic,useDeferredValue:function(t){var r=dn();return sd(r,ut.memoizedState,t)},useTransition:function(){var t=tc(No)[0],r=dn().memoizedState;return[t,r]},useMutableSource:$f,useSyncExternalStore:qf,useId:od,unstable_isNewReconciler:!1},my={readContext:fn,useCallback:rd,useContext:fn,useEffect:rc,useImperativeHandle:nd,useInsertionEffect:Zf,useLayoutEffect:ed,useMemo:id,useReducer:nc,useRef:Yf,useState:function(){return nc(No)},useDebugValue:ic,useDeferredValue:function(t){var r=dn();return ut===null?r.memoizedState=t:sd(r,ut.memoizedState,t)},useTransition:function(){var t=nc(No)[0],r=dn().memoizedState;return[t,r]},useMutableSource:$f,useSyncExternalStore:qf,useId:od,unstable_isNewReconciler:!1};function Cn(t,r){if(t&&t.defaultProps){r=ee({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function sc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ee({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var tl={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Or(t),p=lr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Nr(t,p,h),r!==null&&(Vn(r,t,h,u),Qa(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Or(t),p=lr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Nr(t,p,h),r!==null&&(Vn(r,t,h,u),Qa(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=zt(),u=Or(t),h=lr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Nr(t,h,u),r!==null&&(Vn(r,t,u,o),Qa(r,t,u))}};function cd(t,r,o,u,h,p,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,y):r.prototype&&r.prototype.isPureReactComponent?!vo(o,u)||!vo(h,p):!0}function hd(t,r,o){var u=!1,h=kr,p=r.contextType;return typeof p=="object"&&p!==null?p=fn(p):(h=$t(r)?mi:kt.current,u=r.contextTypes,p=(u=u!=null)?fs(t,h):kr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=tl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function fd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&tl.enqueueReplaceState(r,r.state,null)}function oc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Wu(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=fn(p):(p=$t(r)?mi:kt.current,h.context=fs(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(sc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&tl.enqueueReplaceState(h,h.state,null),Ka(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,r){try{var o="",u=r;do o+=Ee(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function ac(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function lc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var gy=typeof WeakMap=="function"?WeakMap:Map;function dd(t,r,o){o=lr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){ll||(ll=!0,Ic=u),lc(t,r)},o}function pd(t,r,o){o=lr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){lc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){lc(t,r),typeof u!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),o}function md(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new gy;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=Vy.bind(null,t,r,o),r.then(t,t))}function gd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function yd(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=lr(-1,1),r.tag=2,Nr(o,r,1))),o.lanes|=1),t)}var yy=Ie.ReactCurrentOwner,qt=!1;function Ut(t,r,o,u){r.child=t===null?Ff(r,null,o,u):gs(r,t.child,o,u)}function _d(t,r,o,u,h){o=o.render;var p=r.ref;return _s(r,h),u=Zu(t,r,o,u,p,h),o=ec(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,ur(t,r,h)):(We&&o&&Ou(r),r.flags|=1,Ut(t,r,u,h),r.child)}function vd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Vc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Ed(t,r,p,u,h)):(t=pl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:vo,o(y,u)&&t.ref===r.ref)return ur(t,r,h)}return r.flags|=1,t=Ur(p,u),t.ref=r.ref,t.return=r,r.child=t}function Ed(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(vo(p,u)&&t.ref===r.ref)if(qt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(qt=!0);else return r.lanes=t.lanes,ur(t,r,h)}return uc(t,r,o,u,h)}function wd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Ts,nn),nn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,be(Ts,nn),nn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,be(Ts,nn),nn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,be(Ts,nn),nn|=u;return Ut(t,r,h,o),r.child}function Td(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function uc(t,r,o,u,h){var p=$t(o)?mi:kt.current;return p=fs(r,p),_s(r,h),o=Zu(t,r,o,u,p,h),u=ec(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,ur(t,r,h)):(We&&u&&Ou(r),r.flags|=1,Ut(t,r,o,h),r.child)}function Id(t,r,o,u,h){if($t(o)){var p=!0;za(r)}else p=!1;if(_s(r,h),r.stateNode===null)rl(t,r),hd(r,o,u),oc(r,o,u,h),u=!0;else if(t===null){var y=r.stateNode,w=r.memoizedProps;y.props=w;var R=y.context,U=o.contextType;typeof U=="object"&&U!==null?U=fn(U):(U=$t(o)?mi:kt.current,U=fs(r,U));var q=o.getDerivedStateFromProps,Q=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function";Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||R!==U)&&fd(r,y,u,U),Dr=!1;var $=r.memoizedState;y.state=$,Ka(r,u,y,h),R=r.memoizedState,w!==u||$!==R||bt.current||Dr?(typeof q=="function"&&(sc(r,o,q,u),R=r.memoizedState),(w=Dr||cd(r,o,w,u,$,R,U))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),y.props=u,y.state=R,y.context=U,u=w):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,zf(t,r),w=r.memoizedProps,U=r.type===r.elementType?w:Cn(r.type,w),y.props=U,Q=r.pendingProps,$=y.context,R=o.contextType,typeof R=="object"&&R!==null?R=fn(R):(R=$t(o)?mi:kt.current,R=fs(r,R));var Z=o.getDerivedStateFromProps;(q=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==Q||$!==R)&&fd(r,y,u,R),Dr=!1,$=r.memoizedState,y.state=$,Ka(r,u,y,h);var re=r.memoizedState;w!==Q||$!==re||bt.current||Dr?(typeof Z=="function"&&(sc(r,o,Z,u),re=r.memoizedState),(U=Dr||cd(r,o,U,u,$,re,R)||!1)?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,R)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=re),y.props=u,y.state=re,y.context=R,u=U):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),u=!1)}return cc(t,r,o,u,p,h)}function cc(t,r,o,u,h,p){Td(t,r);var y=(r.flags&128)!==0;if(!u&&!y)return h&&Pf(r,o,!1),ur(t,r,p);u=r.stateNode,yy.current=r;var w=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&y?(r.child=gs(r,t.child,null,p),r.child=gs(r,null,w,p)):Ut(t,r,w,p),r.memoizedState=u.state,h&&Pf(r,o,!0),r.child}function Sd(t){var r=t.stateNode;r.pendingContext?Rf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Rf(t,r.context,!1),Qu(t,r.containerInfo)}function Ad(t,r,o,u,h){return ms(),Bu(h),r.flags|=256,Ut(t,r,o,u),r.child}var hc={dehydrated:null,treeContext:null,retryLane:0};function fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rd(t,r,o){var u=r.pendingProps,h=Ke.current,p=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),be(Ke,h&1),t===null)return zu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(y=u.children,t=u.fallback,p?(u=r.mode,p=r.child,y={mode:"hidden",children:y},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=y):p=ml(y,u,0,null),t=Ai(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=fc(o),r.memoizedState=hc,t):dc(r,y));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return _y(t,r,y,u,w,h,o);if(p){p=u.fallback,y=r.mode,h=t.child,w=h.sibling;var R={mode:"hidden",children:u.children};return!(y&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=Ur(h,R),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?p=Ur(w,p):(p=Ai(p,y,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,y=t.child.memoizedState,y=y===null?fc(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=t.childLanes&~o,r.memoizedState=hc,u}return p=t.child,t=p.sibling,u=Ur(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function dc(t,r){return r=ml({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function nl(t,r,o,u){return u!==null&&Bu(u),gs(r,t.child,null,o),t=dc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function _y(t,r,o,u,h,p,y){if(o)return r.flags&256?(r.flags&=-257,u=ac(Error(n(422))),nl(t,r,y,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=ml({mode:"visible",children:u.children},h,0,null),p=Ai(p,h,y,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&gs(r,t.child,null,y),r.child.memoizedState=fc(y),r.memoizedState=hc,p);if(!(r.mode&1))return nl(t,r,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(n(419)),u=ac(p,u,void 0),nl(t,r,y,u)}if(w=(y&t.childLanes)!==0,qt||w){if(u=yt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|y)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,ar(t,h),Vn(u,t,h,-1))}return kc(),u=ac(Error(n(421))),nl(t,r,y,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Dy.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,tn=Cr(h.nextSibling),en=r,We=!0,Rn=null,t!==null&&(cn[hn++]=sr,cn[hn++]=or,cn[hn++]=gi,sr=t.id,or=t.overflow,gi=r),r=dc(r,u.children),r.flags|=4096,r)}function Cd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),qu(t.return,r,o)}function pc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Pd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,r,u.children,o),u=Ke.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cd(t,o,r);else if(t.tag===19)Cd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(be(Ke,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&Ga(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),pc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Ga(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}pc(r,!0,o,null,p);break;case"together":pc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function rl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function ur(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),wi|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Ur(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Ur(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function vy(t,r,o){switch(r.tag){case 3:Sd(r),ms();break;case 5:bf(r);break;case 1:$t(r.type)&&za(r);break;case 4:Qu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;be(Ha,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(be(Ke,Ke.current&1),r.flags|=128,null):o&r.child.childLanes?Rd(t,r,o):(be(Ke,Ke.current&1),t=ur(t,r,o),t!==null?t.sibling:null);be(Ke,Ke.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Pd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),be(Ke,Ke.current),u)break;return null;case 22:case 23:return r.lanes=0,wd(t,r,o)}return ur(t,r,o)}var kd,mc,Vd,Dd;kd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},mc=function(){},Vd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,vi(Bn.current);var p=null;switch(o){case"input":h=Jr(t,h),u=Jr(t,u),p=[];break;case"select":h=ee({},h,{value:void 0}),u=ee({},u,{value:void 0}),p=[];break;case"textarea":h=Qs(t,h),u=Qs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Oa)}Zs(o,u);var y;o=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var w=h[U];for(y in w)w.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in u){var R=u[U];if(w=h!=null?h[U]:void 0,u.hasOwnProperty(U)&&R!==w&&(R!=null||w!=null))if(U==="style")if(w){for(y in w)!w.hasOwnProperty(y)||R&&R.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in R)R.hasOwnProperty(y)&&w[y]!==R[y]&&(o||(o={}),o[y]=R[y])}else o||(p||(p=[]),p.push(U,o)),o=R;else U==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,w=w?w.__html:void 0,R!=null&&w!==R&&(p=p||[]).push(U,R)):U==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(U,""+R):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(R!=null&&U==="onScroll"&&$e("scroll",t),p||w===R||(p=[])):(p=p||[]).push(U,R))}o&&(p=p||[]).push("style",o);var U=p;(r.updateQueue=U)&&(r.flags|=4)}},Dd=function(t,r,o,u){o!==u&&(r.flags|=4)};function Lo(t,r){if(!We)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Ey(t,r,o){var u=r.pendingProps;switch(Fu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return $t(r.type)&&Ua(),Dt(r),null;case 3:return u=r.stateNode,vs(),qe(bt),qe(kt),Xu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&($a(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Rn!==null&&(Rc(Rn),Rn=null))),mc(t,r),Dt(r),null;case 5:Ku(r);var h=vi(ko.current);if(o=r.type,t!==null&&r.stateNode!=null)Vd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=vi(Bn.current),$a(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[zn]=r,u[So]=p,t=(r.mode&1)!==0,o){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<wo.length;h++)$e(wo[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":Li(u,p),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},$e("invalid",u);break;case"textarea":Oi(u,p),$e("invalid",u)}Zs(o,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var w=p[y];y==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&Ma(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&Ma(u.textContent,w,t),h=["children",""+w]):a.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&$e("scroll",u)}switch(o){case"input":Qn(u),aa(u,p,!0);break;case"textarea":Qn(u),Ks(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Oa)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ot(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(o,{is:u.is}):(t=y.createElement(o),o==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,o),t[zn]=r,t[So]=u,kd(t,r,!1,!1),r.stateNode=t;e:{switch(y=eo(o,u),o){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<wo.length;h++)$e(wo[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":Li(t,u),h=Jr(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ee({},u,{value:void 0}),$e("invalid",t);break;case"textarea":Oi(t,u),h=Qs(t,u),$e("invalid",t);break;default:h=u}Zs(o,h),w=h;for(p in w)if(w.hasOwnProperty(p)){var R=w[p];p==="style"?Ys(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Gs(t,R)):p==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&gr(t,R):typeof R=="number"&&gr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?R!=null&&p==="onScroll"&&$e("scroll",t):R!=null&&_e(t,p,R,y))}switch(o){case"input":Qn(t),aa(t,u,!1);break;case"textarea":Qn(t),Ks(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Le(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Gn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Gn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Oa)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)Dd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=vi(ko.current),vi(Bn.current),$a(r)){if(u=r.stateNode,o=r.memoizedProps,u[zn]=r,(p=u.nodeValue!==o)&&(t=en,t!==null))switch(t.tag){case 3:Ma(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ma(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[zn]=r,r.stateNode=u}return Dt(r),null;case 13:if(qe(Ke),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&tn!==null&&r.mode&1&&!(r.flags&128))Lf(),ms(),r.flags|=98560,p=!1;else if(p=$a(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[zn]=r}else ms(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else Rn!==null&&(Rc(Rn),Rn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ke.current&1?ct===0&&(ct=3):kc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return vs(),mc(t,r),t===null&&To(r.stateNode.containerInfo),Dt(r),null;case 10:return $u(r.type._context),Dt(r),null;case 17:return $t(r.type)&&Ua(),Dt(r),null;case 19:if(qe(Ke),p=r.memoizedState,p===null)return Dt(r),null;if(u=(r.flags&128)!==0,y=p.rendering,y===null)if(u)Lo(p,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(y=Ga(t),y!==null){for(r.flags|=128,Lo(p,!1),u=y.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,t=y.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return be(Ke,Ke.current&1|2),r.child}t=t.sibling}p.tail!==null&&je()>Is&&(r.flags|=128,u=!0,Lo(p,!1),r.lanes=4194304)}else{if(!u)if(t=Ga(y),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Lo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!We)return Dt(r),null}else 2*je()-p.renderingStartTime>Is&&o!==1073741824&&(r.flags|=128,u=!0,Lo(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(o=p.last,o!==null?o.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=je(),r.sibling=null,o=Ke.current,be(Ke,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return Pc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?nn&1073741824&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function wy(t,r){switch(Fu(r),r.tag){case 1:return $t(r.type)&&Ua(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return vs(),qe(bt),qe(kt),Xu(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Ku(r),null;case 13:if(qe(Ke),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ms()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return qe(Ke),null;case 4:return vs(),null;case 10:return $u(r.type._context),null;case 22:case 23:return Pc(),null;case 24:return null;default:return null}}var il=!1,Nt=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ws(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Ye(t,r,u)}else o.current=null}function gc(t,r,o){try{o()}catch(u){Ye(t,r,u)}}var Nd=!1;function Iy(t,r){if(Pu=Sr,t=cf(),Eu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var y=0,w=-1,R=-1,U=0,q=0,Q=t,$=null;t:for(;;){for(var Z;Q!==o||h!==0&&Q.nodeType!==3||(w=y+h),Q!==p||u!==0&&Q.nodeType!==3||(R=y+u),Q.nodeType===3&&(y+=Q.nodeValue.length),(Z=Q.firstChild)!==null;)$=Q,Q=Z;for(;;){if(Q===t)break t;if($===o&&++U===h&&(w=y),$===p&&++q===u&&(R=y),(Z=Q.nextSibling)!==null)break;Q=$,$=Q.parentNode}Q=Z}o=w===-1||R===-1?null:{start:w,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(ku={focusedElem:t,selectionRange:o},Sr=!1,ne=r;ne!==null;)if(r=ne,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ne=t;else for(;ne!==null;){r=ne;try{var re=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,tt=re.memoizedState,M=r.stateNode,C=M.getSnapshotBeforeUpdate(r.elementType===r.type?ie:Cn(r.type,ie),tt);M.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var O=r.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(K){Ye(r,r.return,K)}if(t=r.sibling,t!==null){t.return=r.return,ne=t;break}ne=r.return}return re=Nd,Nd=!1,re}function Mo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&gc(r,o,p)}h=h.next}while(h!==u)}}function sl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function yc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function xd(t){var r=t.alternate;r!==null&&(t.alternate=null,xd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[zn],delete r[So],delete r[xu],delete r[sy],delete r[oy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ld(t){return t.tag===5||t.tag===3||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ld(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _c(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Oa));else if(u!==4&&(t=t.child,t!==null))for(_c(t,r,o),t=t.sibling;t!==null;)_c(t,r,o),t=t.sibling}function vc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(vc(t,r,o),t=t.sibling;t!==null;)vc(t,r,o),t=t.sibling}var Tt=null,Pn=!1;function xr(t,r,o){for(o=o.child;o!==null;)Od(t,r,o),o=o.sibling}function Od(t,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ai,o)}catch{}switch(o.tag){case 5:Nt||ws(o,r);case 6:var u=Tt,h=Pn;Tt=null,xr(t,r,o),Tt=u,Pn=h,Tt!==null&&(Pn?(t=Tt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Tt.removeChild(o.stateNode));break;case 18:Tt!==null&&(Pn?(t=Tt,o=o.stateNode,t.nodeType===8?Nu(t.parentNode,o):t.nodeType===1&&Nu(t,o),In(t)):Nu(Tt,o.stateNode));break;case 4:u=Tt,h=Pn,Tt=o.stateNode.containerInfo,Pn=!0,xr(t,r,o),Tt=u,Pn=h;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&(p&2||p&4)&&gc(o,r,y),h=h.next}while(h!==u)}xr(t,r,o);break;case 1:if(!Nt&&(ws(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(w){Ye(o,r,w)}xr(t,r,o);break;case 21:xr(t,r,o);break;case 22:o.mode&1?(Nt=(u=Nt)||o.memoizedState!==null,xr(t,r,o),Nt=u):xr(t,r,o);break;default:xr(t,r,o)}}function Fd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Ty),r.forEach(function(u){var h=Ny.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function kn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,y=r,w=y;e:for(;w!==null;){switch(w.tag){case 5:Tt=w.stateNode,Pn=!1;break e;case 3:Tt=w.stateNode.containerInfo,Pn=!0;break e;case 4:Tt=w.stateNode.containerInfo,Pn=!0;break e}w=w.return}if(Tt===null)throw Error(n(160));Od(p,y,h),Tt=null,Pn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(U){Ye(h,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ud(r,t),r=r.sibling}function Ud(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(r,t),bn(t),u&4){try{Mo(3,t,t.return),sl(3,t)}catch(ie){Ye(t,t.return,ie)}try{Mo(5,t,t.return)}catch(ie){Ye(t,t.return,ie)}}break;case 1:kn(r,t),bn(t),u&512&&o!==null&&ws(o,o.return);break;case 5:if(kn(r,t),bn(t),u&512&&o!==null&&ws(o,o.return),t.flags&32){var h=t.stateNode;try{gr(h,"")}catch(ie){Ye(t,t.return,ie)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,y=o!==null?o.memoizedProps:p,w=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&Hs(h,p),eo(w,y);var U=eo(w,p);for(y=0;y<R.length;y+=2){var q=R[y],Q=R[y+1];q==="style"?Ys(h,Q):q==="dangerouslySetInnerHTML"?Gs(h,Q):q==="children"?gr(h,Q):_e(h,q,Q,U)}switch(w){case"input":Ws(h,p);break;case"textarea":Fi(h,p);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?Gn(h,!!p.multiple,Z,!1):$!==!!p.multiple&&(p.defaultValue!=null?Gn(h,!!p.multiple,p.defaultValue,!0):Gn(h,!!p.multiple,p.multiple?[]:"",!1))}h[So]=p}catch(ie){Ye(t,t.return,ie)}}break;case 6:if(kn(r,t),bn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ie){Ye(t,t.return,ie)}}break;case 3:if(kn(r,t),bn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(ie){Ye(t,t.return,ie)}break;case 4:kn(r,t),bn(t);break;case 13:kn(r,t),bn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Tc=je())),u&4&&Fd(t);break;case 22:if(q=o!==null&&o.memoizedState!==null,t.mode&1?(Nt=(U=Nt)||q,kn(r,t),Nt=U):kn(r,t),bn(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!q&&t.mode&1)for(ne=t,q=t.child;q!==null;){for(Q=ne=q;ne!==null;){switch($=ne,Z=$.child,$.tag){case 0:case 11:case 14:case 15:Mo(4,$,$.return);break;case 1:ws($,$.return);var re=$.stateNode;if(typeof re.componentWillUnmount=="function"){u=$,o=$.return;try{r=u,re.props=r.memoizedProps,re.state=r.memoizedState,re.componentWillUnmount()}catch(ie){Ye(u,o,ie)}}break;case 5:ws($,$.return);break;case 22:if($.memoizedState!==null){jd(Q);continue}}Z!==null?(Z.return=$,ne=Z):jd(Q)}q=q.sibling}e:for(q=null,Q=t;;){if(Q.tag===5){if(q===null){q=Q;try{h=Q.stateNode,U?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=Q.stateNode,R=Q.memoizedProps.style,y=R!=null&&R.hasOwnProperty("display")?R.display:null,w.style.display=Xs("display",y))}catch(ie){Ye(t,t.return,ie)}}}else if(Q.tag===6){if(q===null)try{Q.stateNode.nodeValue=U?"":Q.memoizedProps}catch(ie){Ye(t,t.return,ie)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===t)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===t)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===t)break e;q===Q&&(q=null),Q=Q.return}q===Q&&(q=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:kn(r,t),bn(t),u&4&&Fd(t);break;case 21:break;default:kn(r,t),bn(t)}}function bn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Ld(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(gr(h,""),u.flags&=-33);var p=Md(t);vc(t,p,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=Md(t);_c(t,w,y);break;default:throw Error(n(161))}}catch(R){Ye(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Sy(t,r,o){ne=t,zd(t)}function zd(t,r,o){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||il;if(!y){var w=h.alternate,R=w!==null&&w.memoizedState!==null||Nt;w=il;var U=Nt;if(il=y,(Nt=R)&&!U)for(ne=h;ne!==null;)y=ne,R=y.child,y.tag===22&&y.memoizedState!==null?bd(h):R!==null?(R.return=y,ne=R):bd(h);for(;p!==null;)ne=p,zd(p),p=p.sibling;ne=h,il=w,Nt=U}Bd(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,ne=p):Bd(t)}}function Bd(t){for(;ne!==null;){var r=ne;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Nt||sl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Nt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Cn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&jf(r,p,u);break;case 3:var y=r.updateQueue;if(y!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}jf(r,y,o)}break;case 5:var w=r.stateNode;if(o===null&&r.flags&4){o=w;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var q=U.memoizedState;if(q!==null){var Q=q.dehydrated;Q!==null&&In(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nt||r.flags&512&&yc(r)}catch($){Ye(r,r.return,$)}}if(r===t){ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,ne=o;break}ne=r.return}}function jd(t){for(;ne!==null;){var r=ne;if(r===t){ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ne=o;break}ne=r.return}}function bd(t){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{sl(4,r)}catch(R){Ye(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){Ye(r,h,R)}}var p=r.return;try{yc(r)}catch(R){Ye(r,p,R)}break;case 5:var y=r.return;try{yc(r)}catch(R){Ye(r,y,R)}}}catch(R){Ye(r,r.return,R)}if(r===t){ne=null;break}var w=r.sibling;if(w!==null){w.return=r.return,ne=w;break}ne=r.return}}var Ay=Math.ceil,ol=Ie.ReactCurrentDispatcher,Ec=Ie.ReactCurrentOwner,pn=Ie.ReactCurrentBatchConfig,De=0,yt=null,it=null,It=0,nn=0,Ts=Pr(0),ct=0,Oo=null,wi=0,al=0,wc=0,Fo=null,Ht=null,Tc=0,Is=1/0,cr=null,ll=!1,Ic=null,Lr=null,ul=!1,Mr=null,cl=0,Uo=0,Sc=null,hl=-1,fl=0;function zt(){return De&6?je():hl!==-1?hl:hl=je()}function Or(t){return t.mode&1?De&2&&It!==0?It&-It:ly.transition!==null?(fl===0&&(fl=ui()),fl):(t=Se,t!==0||(t=window.event,t=t===void 0?16:ho(t.type)),t):1}function Vn(t,r,o,u){if(50<Uo)throw Uo=0,Sc=null,Error(n(185));Er(t,o,u),(!(De&2)||t!==yt)&&(t===yt&&(!(De&2)&&(al|=o),ct===4&&Fr(t,It)),Wt(t,u),o===1&&De===0&&!(r.mode&1)&&(Is=je()+500,Ba&&Vr()))}function Wt(t,r){var o=t.callbackNode;Jn(t,r);var u=li(t,t===yt?It:0);if(u===0)o!==null&&oo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&oo(o),r===1)t.tag===0?ay(qd.bind(null,t)):kf(qd.bind(null,t)),ry(function(){!(De&6)&&Vr()}),o=null;else{switch(Tr(u)){case 1:o=oi;break;case 4:o=yr;break;case 16:o=an;break;case 536870912:o=fa;break;default:o=an}o=Jd(o,$d.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function $d(t,r){if(hl=-1,fl=0,De&6)throw Error(n(327));var o=t.callbackNode;if(Ss()&&t.callbackNode!==o)return null;var u=li(t,t===yt?It:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=dl(t,u);else{r=u;var h=De;De|=2;var p=Wd();(yt!==t||It!==r)&&(cr=null,Is=je()+500,Ii(t,r));do try{Py();break}catch(w){Hd(t,w)}while(!0);bu(),ol.current=p,De=h,it!==null?r=0:(yt=null,It=0,r=ct)}if(r!==0){if(r===2&&(h=Yt(t),h!==0&&(u=h,r=Ac(t,h))),r===1)throw o=Oo,Ii(t,0),Fr(t,u),Wt(t,je()),o;if(r===6)Fr(t,u);else{if(h=t.current.alternate,!(u&30)&&!Ry(h)&&(r=dl(t,u),r===2&&(p=Yt(t),p!==0&&(u=p,r=Ac(t,p))),r===1))throw o=Oo,Ii(t,0),Fr(t,u),Wt(t,je()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Si(t,Ht,cr);break;case 3:if(Fr(t,u),(u&130023424)===u&&(r=Tc+500-je(),10<r)){if(li(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){zt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Du(Si.bind(null,t,Ht,cr),r);break}Si(t,Ht,cr);break;case 4:if(Fr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var y=31-Ot(u);p=1<<y,y=r[y],y>h&&(h=y),u&=~p}if(u=h,u=je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Ay(u/1960))-u,10<u){t.timeoutHandle=Du(Si.bind(null,t,Ht,cr),u);break}Si(t,Ht,cr);break;case 5:Si(t,Ht,cr);break;default:throw Error(n(329))}}}return Wt(t,je()),t.callbackNode===o?$d.bind(null,t):null}function Ac(t,r){var o=Fo;return t.current.memoizedState.isDehydrated&&(Ii(t,r).flags|=256),t=dl(t,r),t!==2&&(r=Ht,Ht=o,r!==null&&Rc(r)),t}function Rc(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function Ry(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!An(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(t,r){for(r&=~wc,r&=~al,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ot(r),u=1<<o;t[o]=-1,r&=~u}}function qd(t){if(De&6)throw Error(n(327));Ss();var r=li(t,0);if(!(r&1))return Wt(t,je()),null;var o=dl(t,r);if(t.tag!==0&&o===2){var u=Yt(t);u!==0&&(r=u,o=Ac(t,u))}if(o===1)throw o=Oo,Ii(t,0),Fr(t,r),Wt(t,je()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Si(t,Ht,cr),Wt(t,je()),null}function Cc(t,r){var o=De;De|=1;try{return t(r)}finally{De=o,De===0&&(Is=je()+500,Ba&&Vr())}}function Ti(t){Mr!==null&&Mr.tag===0&&!(De&6)&&Ss();var r=De;De|=1;var o=pn.transition,u=Se;try{if(pn.transition=null,Se=1,t)return t()}finally{Se=u,pn.transition=o,De=r,!(De&6)&&Vr()}}function Pc(){nn=Ts.current,qe(Ts)}function Ii(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,ny(o)),it!==null)for(o=it.return;o!==null;){var u=o;switch(Fu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ua();break;case 3:vs(),qe(bt),qe(kt),Xu();break;case 5:Ku(u);break;case 4:vs();break;case 13:qe(Ke);break;case 19:qe(Ke);break;case 10:$u(u.type._context);break;case 22:case 23:Pc()}o=o.return}if(yt=t,it=t=Ur(t.current,null),It=nn=r,ct=0,Oo=null,wc=al=wi=0,Ht=Fo=null,_i!==null){for(r=0;r<_i.length;r++)if(o=_i[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var y=p.next;p.next=h,u.next=y}o.pending=u}_i=null}return t}function Hd(t,r){do{var o=it;try{if(bu(),Xa.current=el,Ya){for(var u=Ge.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Ya=!1}if(Ei=0,gt=ut=Ge=null,Vo=!1,Do=0,Ec.current=null,o===null||o.return===null){ct=1,Oo=r,it=null;break}e:{var p=t,y=o.return,w=o,R=r;if(r=It,w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var U=R,q=w,Q=q.tag;if(!(q.mode&1)&&(Q===0||Q===11||Q===15)){var $=q.alternate;$?(q.updateQueue=$.updateQueue,q.memoizedState=$.memoizedState,q.lanes=$.lanes):(q.updateQueue=null,q.memoizedState=null)}var Z=gd(y);if(Z!==null){Z.flags&=-257,yd(Z,y,w,p,r),Z.mode&1&&md(p,U,r),r=Z,R=U;var re=r.updateQueue;if(re===null){var ie=new Set;ie.add(R),r.updateQueue=ie}else re.add(R);break e}else{if(!(r&1)){md(p,U,r),kc();break e}R=Error(n(426))}}else if(We&&w.mode&1){var tt=gd(y);if(tt!==null){!(tt.flags&65536)&&(tt.flags|=256),yd(tt,y,w,p,r),Bu(Es(R,w));break e}}p=R=Es(R,w),ct!==4&&(ct=2),Fo===null?Fo=[p]:Fo.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=dd(p,R,r);Bf(p,M);break e;case 1:w=R;var C=p.type,O=p.stateNode;if(!(p.flags&128)&&(typeof C.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Lr===null||!Lr.has(O)))){p.flags|=65536,r&=-r,p.lanes|=r;var K=pd(p,w,r);Bf(p,K);break e}}p=p.return}while(p!==null)}Kd(o)}catch(se){r=se,it===o&&o!==null&&(it=o=o.return);continue}break}while(!0)}function Wd(){var t=ol.current;return ol.current=el,t===null?el:t}function kc(){(ct===0||ct===3||ct===2)&&(ct=4),yt===null||!(wi&268435455)&&!(al&268435455)||Fr(yt,It)}function dl(t,r){var o=De;De|=2;var u=Wd();(yt!==t||It!==r)&&(cr=null,Ii(t,r));do try{Cy();break}catch(h){Hd(t,h)}while(!0);if(bu(),De=o,ol.current=u,it!==null)throw Error(n(261));return yt=null,It=0,ct}function Cy(){for(;it!==null;)Qd(it)}function Py(){for(;it!==null&&!ca();)Qd(it)}function Qd(t){var r=Yd(t.alternate,t,nn);t.memoizedProps=t.pendingProps,r===null?Kd(t):it=r,Ec.current=null}function Kd(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=wy(o,r),o!==null){o.flags&=32767,it=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,it=null;return}}else if(o=Ey(o,r,nn),o!==null){it=o;return}if(r=r.sibling,r!==null){it=r;return}it=r=t}while(r!==null);ct===0&&(ct=5)}function Si(t,r,o){var u=Se,h=pn.transition;try{pn.transition=null,Se=1,ky(t,r,o,u)}finally{pn.transition=h,Se=u}return null}function ky(t,r,o,u){do Ss();while(Mr!==null);if(De&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(ze(t,p),t===yt&&(it=yt=null,It=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||ul||(ul=!0,Jd(an,function(){return Ss(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=pn.transition,pn.transition=null;var y=Se;Se=1;var w=De;De|=4,Ec.current=null,Iy(t,o),Ud(o,t),Gg(ku),Sr=!!Pu,ku=Pu=null,t.current=o,Sy(o),fu(),De=w,Se=y,pn.transition=p}else t.current=o;if(ul&&(ul=!1,Mr=t,cl=h),p=t.pendingLanes,p===0&&(Lr=null),da(o.stateNode),Wt(t,je()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(ll)throw ll=!1,t=Ic,Ic=null,t;return cl&1&&t.tag!==0&&Ss(),p=t.pendingLanes,p&1?t===Sc?Uo++:(Uo=0,Sc=t):Uo=0,Vr(),null}function Ss(){if(Mr!==null){var t=Tr(cl),r=pn.transition,o=Se;try{if(pn.transition=null,Se=16>t?16:t,Mr===null)var u=!1;else{if(t=Mr,Mr=null,cl=0,De&6)throw Error(n(331));var h=De;for(De|=4,ne=t.current;ne!==null;){var p=ne,y=p.child;if(ne.flags&16){var w=p.deletions;if(w!==null){for(var R=0;R<w.length;R++){var U=w[R];for(ne=U;ne!==null;){var q=ne;switch(q.tag){case 0:case 11:case 15:Mo(8,q,p)}var Q=q.child;if(Q!==null)Q.return=q,ne=Q;else for(;ne!==null;){q=ne;var $=q.sibling,Z=q.return;if(xd(q),q===U){ne=null;break}if($!==null){$.return=Z,ne=$;break}ne=Z}}}var re=p.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var tt=ie.sibling;ie.sibling=null,ie=tt}while(ie!==null)}}ne=p}}if(p.subtreeFlags&2064&&y!==null)y.return=p,ne=y;else e:for(;ne!==null;){if(p=ne,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Mo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,ne=M;break e}ne=p.return}}var C=t.current;for(ne=C;ne!==null;){y=ne;var O=y.child;if(y.subtreeFlags&2064&&O!==null)O.return=y,ne=O;else e:for(y=C;ne!==null;){if(w=ne,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:sl(9,w)}}catch(se){Ye(w,w.return,se)}if(w===y){ne=null;break e}var K=w.sibling;if(K!==null){K.return=w.return,ne=K;break e}ne=w.return}}if(De=h,Vr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ai,t)}catch{}u=!0}return u}finally{Se=o,pn.transition=r}}return!1}function Gd(t,r,o){r=Es(o,r),r=dd(t,r,1),t=Nr(t,r,1),r=zt(),t!==null&&(Er(t,1,r),Wt(t,r))}function Ye(t,r,o){if(t.tag===3)Gd(t,t,o);else for(;r!==null;){if(r.tag===3){Gd(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Lr===null||!Lr.has(u))){t=Es(o,t),t=pd(r,t,1),r=Nr(r,t,1),t=zt(),r!==null&&(Er(r,1,t),Wt(r,t));break}}r=r.return}}function Vy(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&o,yt===t&&(It&o)===o&&(ct===4||ct===3&&(It&130023424)===It&&500>je()-Tc?Ii(t,0):wc|=o),Wt(t,r)}function Xd(t,r){r===0&&(t.mode&1?(r=Qi,Qi<<=1,!(Qi&130023424)&&(Qi=4194304)):r=1);var o=zt();t=ar(t,r),t!==null&&(Er(t,r,o),Wt(t,o))}function Dy(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Xd(t,o)}function Ny(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Xd(t,o)}var Yd;Yd=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||bt.current)qt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return qt=!1,vy(t,r,o);qt=!!(t.flags&131072)}else qt=!1,We&&r.flags&1048576&&Vf(r,ba,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;rl(t,r),t=r.pendingProps;var h=fs(r,kt.current);_s(r,o),h=Zu(null,r,u,t,h,o);var p=ec();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,$t(u)?(p=!0,za(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Wu(r),h.updater=tl,r.stateNode=h,h._reactInternals=r,oc(r,u,t,o),r=cc(null,r,u,!0,p,o)):(r.tag=0,We&&p&&Ou(r),Ut(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(rl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Ly(u),t=Cn(u,t),h){case 0:r=uc(null,r,u,t,o);break e;case 1:r=Id(null,r,u,t,o);break e;case 11:r=_d(null,r,u,t,o);break e;case 14:r=vd(null,r,u,Cn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),uc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),Id(t,r,u,h,o);case 3:e:{if(Sd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,zf(t,r),Ka(r,u,null,o);var y=r.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Es(Error(n(423)),r),r=Ad(t,r,u,o,h);break e}else if(u!==h){h=Es(Error(n(424)),r),r=Ad(t,r,u,o,h);break e}else for(tn=Cr(r.stateNode.containerInfo.firstChild),en=r,We=!0,Rn=null,o=Ff(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ms(),u===h){r=ur(t,r,o);break e}Ut(t,r,u,o)}r=r.child}return r;case 5:return bf(r),t===null&&zu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,y=h.children,Vu(u,h)?y=null:p!==null&&Vu(u,p)&&(r.flags|=32),Td(t,r),Ut(t,r,y,o),r.child;case 6:return t===null&&zu(r),null;case 13:return Rd(t,r,o);case 4:return Qu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=gs(r,null,u,o):Ut(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),_d(t,r,u,h,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,y=h.value,be(Ha,u._currentValue),u._currentValue=y,p!==null)if(An(p.value,y)){if(p.children===h.children&&!bt.current){r=ur(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var w=p.dependencies;if(w!==null){y=p.child;for(var R=w.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=lr(-1,o&-o),R.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var q=U.pending;q===null?R.next=R:(R.next=q.next,q.next=R),U.pending=R}}p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),qu(p.return,o,r),w.lanes|=o;break}R=R.next}}else if(p.tag===10)y=p.type===r.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(n(341));y.lanes|=o,w=y.alternate,w!==null&&(w.lanes|=o),qu(y,o,r),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===r){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}Ut(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,_s(r,o),h=fn(h),u=u(h),r.flags|=1,Ut(t,r,u,o),r.child;case 14:return u=r.type,h=Cn(u,r.pendingProps),h=Cn(u.type,h),vd(t,r,u,h,o);case 15:return Ed(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),rl(t,r),r.tag=1,$t(u)?(t=!0,za(r)):t=!1,_s(r,o),hd(r,u,h),oc(r,u,h,o),cc(null,r,u,!0,t,o);case 19:return Pd(t,r,o);case 22:return wd(t,r,o)}throw Error(n(156,r.tag))};function Jd(t,r){return Hi(t,r)}function xy(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,o,u){return new xy(t,r,o,u)}function Vc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ly(t){if(typeof t=="function")return Vc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x)return 11;if(t===Ct)return 14}return 2}function Ur(t,r){var o=t.alternate;return o===null?(o=mn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function pl(t,r,o,u,h,p){var y=2;if(u=t,typeof t=="function")Vc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case k:return Ai(o.children,h,p,r);case T:y=8,h|=8;break;case A:return t=mn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=mn(13,o,r,h),t.elementType=S,t.lanes=p,t;case Ze:return t=mn(19,o,r,h),t.elementType=Ze,t.lanes=p,t;case Fe:return ml(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:y=10;break e;case D:y=9;break e;case x:y=11;break e;case Ct:y=14;break e;case Pt:y=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=mn(y,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ai(t,r,o,u){return t=mn(7,t,u,r),t.lanes=o,t}function ml(t,r,o,u){return t=mn(22,t,u,r),t.elementType=Fe,t.lanes=o,t.stateNode={isHidden:!1},t}function Dc(t,r,o){return t=mn(6,t,null,r),t.lanes=o,t}function Nc(t,r,o){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function My(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vr(0),this.expirationTimes=vr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function xc(t,r,o,u,h,p,y,w,R){return t=new My(t,r,o,w,R),r===1?(r=1,p===!0&&(r|=8)):r=0,p=mn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wu(p),t}function Oy(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ve,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Zd(t){if(!t)return kr;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if($t(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if($t(o))return Cf(t,o,r)}return r}function ep(t,r,o,u,h,p,y,w,R){return t=xc(o,u,!0,t,h,p,y,w,R),t.context=Zd(null),o=t.current,u=zt(),h=Or(o),p=lr(u,h),p.callback=r??null,Nr(o,p,h),t.current.lanes=h,Er(t,h,u),Wt(t,u),t}function gl(t,r,o,u){var h=r.current,p=zt(),y=Or(h);return o=Zd(o),r.context===null?r.context=o:r.pendingContext=o,r=lr(p,y),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Nr(h,r,y),t!==null&&(Vn(t,h,y,p),Qa(t,h,y)),y}function yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Lc(t,r){tp(t,r),(t=t.alternate)&&tp(t,r)}var np=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mc(t){this._internalRoot=t}_l.prototype.render=Mc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));gl(t,r,null,null)},_l.prototype.unmount=Mc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ti(function(){gl(null,t,null,null)}),r[rr]=null}};function _l(t){this._internalRoot=t}_l.prototype.unstable_scheduleHydration=function(t){if(t){var r=_a();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Mn.length&&r!==0&&r<Mn[o].priority;o++);Mn.splice(o,0,t),o===0&&wa(t)}};function Oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rp(){}function Fy(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var U=yl(y);p.call(U)}}var y=ep(r,u,t,0,null,!1,!1,"",rp);return t._reactRootContainer=y,t[rr]=y.current,To(t.nodeType===8?t.parentNode:t),Ti(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var U=yl(R);w.call(U)}}var R=xc(t,0,!1,null,null,!1,!1,"",rp);return t._reactRootContainer=R,t[rr]=R.current,To(t.nodeType===8?t.parentNode:t),Ti(function(){gl(r,R,o,u)}),R}function El(t,r,o,u,h){var p=o._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var w=h;h=function(){var R=yl(y);w.call(R)}}gl(r,y,t,h)}else y=Fy(o,r,t,h,u);return yl(y)}ga=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=_r(r.pendingLanes);o!==0&&(wr(r,o|1),Wt(r,je()),!(De&6)&&(Is=je()+500,Vr()))}break;case 13:Ti(function(){var u=ar(t,1);if(u!==null){var h=zt();Vn(u,t,1,h)}}),Lc(t,1)}},Ki=function(t){if(t.tag===13){var r=ar(t,134217728);if(r!==null){var o=zt();Vn(r,t,134217728,o)}Lc(t,134217728)}},ya=function(t){if(t.tag===13){var r=Or(t),o=ar(t,r);if(o!==null){var u=zt();Vn(o,t,r,u)}Lc(t,r)}},_a=function(){return Se},va=function(t,r){var o=Se;try{return Se=t,r()}finally{Se=o}},zi=function(t,r,o){switch(r){case"input":if(Ws(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Fa(u);if(!h)throw Error(n(90));xi(u),Ws(u,h)}}}break;case"textarea":Fi(t,o);break;case"select":r=o.value,r!=null&&Gn(t,!!o.multiple,r,!1)}},ni=Cc,no=Ti;var Uy={usingClientEntryPoint:!1,Events:[Ao,cs,Fa,xn,to,Cc]},zo={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zy={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=so(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{ai=wl.inject(zy),Xt=wl}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uy,Qt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oc(r))throw Error(n(200));return Oy(t,r,null,o)},Qt.createRoot=function(t,r){if(!Oc(t))throw Error(n(299));var o=!1,u="",h=np;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=xc(t,1,!1,null,null,o,!1,u,h),t[rr]=r.current,To(t.nodeType===8?t.parentNode:t),new Mc(r)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=so(r),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return Ti(t)},Qt.hydrate=function(t,r,o){if(!vl(r))throw Error(n(200));return El(null,t,r,!0,o)},Qt.hydrateRoot=function(t,r,o){if(!Oc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",y=np;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),r=ep(r,null,t,1,o??null,h,!1,p,y),t[rr]=r.current,To(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new _l(r)},Qt.render=function(t,r,o){if(!vl(r))throw Error(n(200));return El(null,t,r,!1,o)},Qt.unmountComponentAtNode=function(t){if(!vl(t))throw Error(n(40));return t._reactRootContainer?(Ti(function(){El(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1},Qt.unstable_batchedUpdates=Cc,Qt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!vl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return El(t,r,o,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var hp;function Qy(){if(hp)return zc.exports;hp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),zc.exports=Wy(),zc.exports}var fp;function Ky(){if(fp)return Tl;fp=1;var i=Qy();return Tl.createRoot=i.createRoot,Tl.hydrateRoot=i.hydrateRoot,Tl}var Gy=Ky(),dp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Xy=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],_=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},hm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,_=a+2<i.length,E=_?i[a+2]:0,I=c>>2,V=(c&3)<<4|m>>4;let F=(m&15)<<2|E>>6,B=E&63;_||(B=64,f||(F=64)),s.push(n[I],n[V],n[F],n[B])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(cm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Xy(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const E=a<i.length?n[i.charAt(a)]:64;++a;const V=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||E==null||V==null)throw new Yy;const F=c<<2|m>>4;if(s.push(F),E!==64){const B=m<<4&240|E>>2;if(s.push(B),V!==64){const X=E<<6&192|V;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Yy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jy=function(i){const e=cm(i);return hm.encodeByteArray(e,!0)},Ll=function(i){return Jy(i).replace(/\./g,"")},Zy=function(i){try{return hm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=()=>e_().__FIREBASE_DEFAULTS__,n_=()=>{if(typeof process>"u"||typeof dp>"u")return;const i=dp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},r_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Zy(i[1]);return e&&JSON.parse(e)},_h=()=>{try{return t_()||n_()||r_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},i_=i=>{var e,n;return(n=(e=_h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},s_=i=>{const e=i_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},fm=()=>{var i;return(i=_h())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ll(JSON.stringify(n)),Ll(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u_(){var i;const e=(i=_h())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c_(){return!u_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h_(){try{return typeof indexedDB=="object"}catch{return!1}}function f_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="FirebaseError";class Bs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=d_,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dm.prototype.create)}}class dm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?p_(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new Bs(a,m,s)}}function p_(i,e){return i.replace(m_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const m_=/\{\$([^}]+)}/g;function Xc(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(pp(c)&&pp(f)){if(!Xc(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function pp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(i){return i&&i._delegate?i._delegate:i}class Go{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new o_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(__(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:y_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y_(i){return i===Ri?void 0:i}function __(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const E_={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},w_=ke.INFO,T_={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},I_=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=T_[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pm{constructor(e){this.name=e,this._logLevel=w_,this._logHandler=I_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const S_=(i,e)=>e.some(n=>i instanceof n);let mp,gp;function A_(){return mp||(mp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R_(){return gp||(gp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mm=new WeakMap,Yc=new WeakMap,gm=new WeakMap,bc=new WeakMap,vh=new WeakMap;function C_(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(jr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&mm.set(n,i)}).catch(()=>{}),vh.set(e,i),e}function P_(i){if(Yc.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Yc.set(i,e)}let Jc={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Yc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||gm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function k_(i){Jc=i(Jc)}function V_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call($c(this),e,...n);return gm.set(s,e.sort?e.sort():[e]),jr(s)}:R_().includes(i)?function(...e){return i.apply($c(this),e),jr(mm.get(this))}:function(...e){return jr(i.apply($c(this),e))}}function D_(i){return typeof i=="function"?V_(i):(i instanceof IDBTransaction&&P_(i),S_(i,A_())?new Proxy(i,Jc):i)}function jr(i){if(i instanceof IDBRequest)return C_(i);if(bc.has(i))return bc.get(i);const e=D_(i);return e!==i&&(bc.set(i,e),vh.set(e,i)),e}const $c=i=>vh.get(i);function N_(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=jr(f);return s&&f.addEventListener("upgradeneeded",_=>{s(jr(f.result),_.oldVersion,_.newVersion,jr(f.transaction),_)}),n&&f.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),m.then(_=>{c&&_.addEventListener("close",()=>c()),a&&_.addEventListener("versionchange",E=>a(E.oldVersion,E.newVersion,E))}).catch(()=>{}),m}const x_=["get","getKey","getAll","getAllKeys","count"],L_=["put","add","delete","clear"],qc=new Map;function yp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(qc.get(e))return qc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=L_.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||x_.includes(n)))return;const c=async function(f,...m){const _=this.transaction(f,a?"readwrite":"readonly");let E=_.store;return s&&(E=E.index(m.shift())),(await Promise.all([E[n](...m),a&&_.done]))[0]};return qc.set(e,c),c}k_(i=>({...i,get:(e,n,s)=>yp(e,n)||i.get(e,n,s),has:(e,n)=>!!yp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O_(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function O_(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zc="@firebase/app",_p="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new pm("@firebase/app"),F_="@firebase/app-compat",U_="@firebase/analytics-compat",z_="@firebase/analytics",B_="@firebase/app-check-compat",j_="@firebase/app-check",b_="@firebase/auth",$_="@firebase/auth-compat",q_="@firebase/database",H_="@firebase/data-connect",W_="@firebase/database-compat",Q_="@firebase/functions",K_="@firebase/functions-compat",G_="@firebase/installations",X_="@firebase/installations-compat",Y_="@firebase/messaging",J_="@firebase/messaging-compat",Z_="@firebase/performance",ev="@firebase/performance-compat",tv="@firebase/remote-config",nv="@firebase/remote-config-compat",rv="@firebase/storage",iv="@firebase/storage-compat",sv="@firebase/firestore",ov="@firebase/vertexai",av="@firebase/firestore-compat",lv="firebase",uv="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="[DEFAULT]",cv={[Zc]:"fire-core",[F_]:"fire-core-compat",[z_]:"fire-analytics",[U_]:"fire-analytics-compat",[j_]:"fire-app-check",[B_]:"fire-app-check-compat",[b_]:"fire-auth",[$_]:"fire-auth-compat",[q_]:"fire-rtdb",[H_]:"fire-data-connect",[W_]:"fire-rtdb-compat",[Q_]:"fire-fn",[K_]:"fire-fn-compat",[G_]:"fire-iid",[X_]:"fire-iid-compat",[Y_]:"fire-fcm",[J_]:"fire-fcm-compat",[Z_]:"fire-perf",[ev]:"fire-perf-compat",[tv]:"fire-rc",[nv]:"fire-rc-compat",[rv]:"fire-gcs",[iv]:"fire-gcs-compat",[sv]:"fire-fst",[av]:"fire-fst-compat",[ov]:"fire-vertex","fire-js":"fire-js",[lv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new Map,hv=new Map,th=new Map;function vp(i,e){try{i.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ol(i){const e=i.name;if(th.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;th.set(e,i);for(const n of Ml.values())vp(n,i);for(const n of hv.values())vp(n,i);return!0}function fv(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new dm("app","Firebase",dv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=uv;function ym(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:eh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw br.create("bad-app-name",{appName:String(a)});if(n||(n=fm()),!n)throw br.create("no-options");const c=Ml.get(a);if(c){if(Xc(n,c.options)&&Xc(s,c.config))return c;throw br.create("duplicate-app",{appName:a})}const f=new v_(a);for(const _ of th.values())f.addComponent(_);const m=new pv(n,s,f);return Ml.set(a,m),m}function gv(i=eh){const e=Ml.get(i);if(!e&&i===eh&&fm())return ym();if(!e)throw br.create("no-app",{appName:i});return e}function ks(i,e,n){var s;let a=(s=cv[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(m.join(" "));return}Ol(new Go(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="firebase-heartbeat-database",_v=1,Xo="firebase-heartbeat-store";let Hc=null;function _m(){return Hc||(Hc=N_(yv,_v,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xo)}catch(n){console.warn(n)}}}}).catch(i=>{throw br.create("idb-open",{originalErrorMessage:i.message})})),Hc}async function vv(i){try{const n=(await _m()).transaction(Xo),s=await n.objectStore(Xo).get(vm(i));return await n.done,s}catch(e){if(e instanceof Bs)fr.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(n.message)}}}async function Ep(i,e){try{const s=(await _m()).transaction(Xo,"readwrite");await s.objectStore(Xo).put(e,vm(i)),await s.done}catch(n){if(n instanceof Bs)fr.warn(n.message);else{const s=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(s.message)}}}function vm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=1024,wv=30*24*60*60*1e3;class Tv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sv(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=wp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=wv}),this._storage.overwrite(this._heartbeatsCache))}catch(s){fr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wp(),{heartbeatsToSend:s,unsentEntries:a}=Iv(this._heartbeatsCache.heartbeats),c=Ll(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return fr.warn(n),""}}}function wp(){return new Date().toISOString().substring(0,10)}function Iv(i,e=Ev){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Tp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Tp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Sv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h_()?f_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ep(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ep(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Tp(i){return Ll(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(i){Ol(new Go("platform-logger",e=>new M_(e),"PRIVATE")),Ol(new Go("heartbeat",e=>new Tv(e),"PRIVATE")),ks(Zc,_p,i),ks(Zc,_p,"esm2017"),ks("fire-js","")}Av("");var Ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pi,Em;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function A(){}A.prototype=T.prototype,k.D=T.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(P,D,x){for(var S=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)S[Ze-2]=arguments[Ze];return T.prototype[D].apply(P,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,A){A||(A=0);var P=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)P[D]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(D=0;16>D;++D)P[D]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=k.g[0],A=k.g[1],D=k.g[2];var x=k.g[3],S=T+(x^A&(D^x))+P[0]+3614090360&4294967295;T=A+(S<<7&4294967295|S>>>25),S=x+(D^T&(A^D))+P[1]+3905402710&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(A^x&(T^A))+P[2]+606105819&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(T^D&(x^T))+P[3]+3250441966&4294967295,A=D+(S<<22&4294967295|S>>>10),S=T+(x^A&(D^x))+P[4]+4118548399&4294967295,T=A+(S<<7&4294967295|S>>>25),S=x+(D^T&(A^D))+P[5]+1200080426&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(A^x&(T^A))+P[6]+2821735955&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(T^D&(x^T))+P[7]+4249261313&4294967295,A=D+(S<<22&4294967295|S>>>10),S=T+(x^A&(D^x))+P[8]+1770035416&4294967295,T=A+(S<<7&4294967295|S>>>25),S=x+(D^T&(A^D))+P[9]+2336552879&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(A^x&(T^A))+P[10]+4294925233&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(T^D&(x^T))+P[11]+2304563134&4294967295,A=D+(S<<22&4294967295|S>>>10),S=T+(x^A&(D^x))+P[12]+1804603682&4294967295,T=A+(S<<7&4294967295|S>>>25),S=x+(D^T&(A^D))+P[13]+4254626195&4294967295,x=T+(S<<12&4294967295|S>>>20),S=D+(A^x&(T^A))+P[14]+2792965006&4294967295,D=x+(S<<17&4294967295|S>>>15),S=A+(T^D&(x^T))+P[15]+1236535329&4294967295,A=D+(S<<22&4294967295|S>>>10),S=T+(D^x&(A^D))+P[1]+4129170786&4294967295,T=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(T^A))+P[6]+3225465664&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^A&(x^T))+P[11]+643717713&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^T&(D^x))+P[0]+3921069994&4294967295,A=D+(S<<20&4294967295|S>>>12),S=T+(D^x&(A^D))+P[5]+3593408605&4294967295,T=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(T^A))+P[10]+38016083&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^A&(x^T))+P[15]+3634488961&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^T&(D^x))+P[4]+3889429448&4294967295,A=D+(S<<20&4294967295|S>>>12),S=T+(D^x&(A^D))+P[9]+568446438&4294967295,T=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(T^A))+P[14]+3275163606&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^A&(x^T))+P[3]+4107603335&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^T&(D^x))+P[8]+1163531501&4294967295,A=D+(S<<20&4294967295|S>>>12),S=T+(D^x&(A^D))+P[13]+2850285829&4294967295,T=A+(S<<5&4294967295|S>>>27),S=x+(A^D&(T^A))+P[2]+4243563512&4294967295,x=T+(S<<9&4294967295|S>>>23),S=D+(T^A&(x^T))+P[7]+1735328473&4294967295,D=x+(S<<14&4294967295|S>>>18),S=A+(x^T&(D^x))+P[12]+2368359562&4294967295,A=D+(S<<20&4294967295|S>>>12),S=T+(A^D^x)+P[5]+4294588738&4294967295,T=A+(S<<4&4294967295|S>>>28),S=x+(T^A^D)+P[8]+2272392833&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^A)+P[11]+1839030562&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^T)+P[14]+4259657740&4294967295,A=D+(S<<23&4294967295|S>>>9),S=T+(A^D^x)+P[1]+2763975236&4294967295,T=A+(S<<4&4294967295|S>>>28),S=x+(T^A^D)+P[4]+1272893353&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^A)+P[7]+4139469664&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^T)+P[10]+3200236656&4294967295,A=D+(S<<23&4294967295|S>>>9),S=T+(A^D^x)+P[13]+681279174&4294967295,T=A+(S<<4&4294967295|S>>>28),S=x+(T^A^D)+P[0]+3936430074&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^A)+P[3]+3572445317&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^T)+P[6]+76029189&4294967295,A=D+(S<<23&4294967295|S>>>9),S=T+(A^D^x)+P[9]+3654602809&4294967295,T=A+(S<<4&4294967295|S>>>28),S=x+(T^A^D)+P[12]+3873151461&4294967295,x=T+(S<<11&4294967295|S>>>21),S=D+(x^T^A)+P[15]+530742520&4294967295,D=x+(S<<16&4294967295|S>>>16),S=A+(D^x^T)+P[2]+3299628645&4294967295,A=D+(S<<23&4294967295|S>>>9),S=T+(D^(A|~x))+P[0]+4096336452&4294967295,T=A+(S<<6&4294967295|S>>>26),S=x+(A^(T|~D))+P[7]+1126891415&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~A))+P[14]+2878612391&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~T))+P[5]+4237533241&4294967295,A=D+(S<<21&4294967295|S>>>11),S=T+(D^(A|~x))+P[12]+1700485571&4294967295,T=A+(S<<6&4294967295|S>>>26),S=x+(A^(T|~D))+P[3]+2399980690&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~A))+P[10]+4293915773&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~T))+P[1]+2240044497&4294967295,A=D+(S<<21&4294967295|S>>>11),S=T+(D^(A|~x))+P[8]+1873313359&4294967295,T=A+(S<<6&4294967295|S>>>26),S=x+(A^(T|~D))+P[15]+4264355552&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~A))+P[6]+2734768916&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~T))+P[13]+1309151649&4294967295,A=D+(S<<21&4294967295|S>>>11),S=T+(D^(A|~x))+P[4]+4149444226&4294967295,T=A+(S<<6&4294967295|S>>>26),S=x+(A^(T|~D))+P[11]+3174756917&4294967295,x=T+(S<<10&4294967295|S>>>22),S=D+(T^(x|~A))+P[2]+718787259&4294967295,D=x+(S<<15&4294967295|S>>>17),S=A+(x^(D|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+x&4294967295}s.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var A=T-this.blockSize,P=this.B,D=this.h,x=0;x<T;){if(D==0)for(;x<=A;)a(this,k,x),x+=this.blockSize;if(typeof k=="string"){for(;x<T;)if(P[D++]=k.charCodeAt(x++),D==this.blockSize){a(this,P),D=0;break}}else for(;x<T;)if(P[D++]=k[x++],D==this.blockSize){a(this,P),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var A=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=A&255,A/=256;for(this.u(k),k=Array(16),T=A=0;4>T;++T)for(var P=0;32>P;P+=8)k[A++]=this.g[T]>>>P&255;return k};function c(k,T){var A=m;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=T(k)}function f(k,T){this.h=T;for(var A=[],P=!0,D=k.length-1;0<=D;D--){var x=k[D]|0;P&&x==T||(A[D]=x,P=!1)}this.g=A}var m={};function _(k){return-128<=k&&128>k?c(k,function(T){return new f([T|0],0>T?-1:0)}):new f([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return V;if(0>k)return H(E(-k));for(var T=[],A=1,P=0;k>=A;P++)T[P]=k/A|0,A*=4294967296;return new f(T,0)}function I(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return H(I(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=E(Math.pow(T,8)),P=V,D=0;D<k.length;D+=8){var x=Math.min(8,k.length-D),S=parseInt(k.substring(D,D+x),T);8>x?(x=E(Math.pow(T,x)),P=P.j(x).add(E(S))):(P=P.j(A),P=P.add(E(S)))}return P}var V=_(0),F=_(1),B=_(16777216);i=f.prototype,i.m=function(){if(Y(this))return-H(this).m();for(var k=0,T=1,A=0;A<this.g.length;A++){var P=this.i(A);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(X(this))return"0";if(Y(this))return"-"+H(this).toString(k);for(var T=E(Math.pow(k,6)),A=this,P="";;){var D=Ie(A,T).g;A=ge(A,D.j(T));var x=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=D,X(A))return x+P;for(;6>x.length;)x="0"+x;P=x+P}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function X(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function Y(k){return k.h==-1}i.l=function(k){return k=ge(this,k),Y(k)?-1:X(k)?0:1};function H(k){for(var T=k.g.length,A=[],P=0;P<T;P++)A[P]=~k.g[P];return new f(A,~k.h).add(F)}i.abs=function(){return Y(this)?H(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0,D=0;D<=T;D++){var x=P+(this.i(D)&65535)+(k.i(D)&65535),S=(x>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);P=S>>>16,x&=65535,S&=65535,A[D]=S<<16|x}return new f(A,A[A.length-1]&-2147483648?-1:0)};function ge(k,T){return k.add(H(T))}i.j=function(k){if(X(this)||X(k))return V;if(Y(this))return Y(k)?H(this).j(H(k)):H(H(this).j(k));if(Y(k))return H(this.j(H(k)));if(0>this.l(B)&&0>k.l(B))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,A=[],P=0;P<2*T;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<k.g.length;D++){var x=this.i(P)>>>16,S=this.i(P)&65535,Ze=k.i(D)>>>16,Ct=k.i(D)&65535;A[2*P+2*D]+=S*Ct,ye(A,2*P+2*D),A[2*P+2*D+1]+=x*Ct,ye(A,2*P+2*D+1),A[2*P+2*D+1]+=S*Ze,ye(A,2*P+2*D+1),A[2*P+2*D+2]+=x*Ze,ye(A,2*P+2*D+2)}for(P=0;P<T;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=T;P<2*T;P++)A[P]=0;return new f(A,0)};function ye(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function _e(k,T){this.g=k,this.h=T}function Ie(k,T){if(X(T))throw Error("division by zero");if(X(k))return new _e(V,V);if(Y(k))return T=Ie(H(k),T),new _e(H(T.g),H(T.h));if(Y(T))return T=Ie(k,H(T)),new _e(H(T.g),T.h);if(30<k.g.length){if(Y(k)||Y(T))throw Error("slowDivide_ only works with positive integers.");for(var A=F,P=T;0>=P.l(k);)A=Je(A),P=Je(P);var D=Ve(A,1),x=Ve(P,1);for(P=Ve(P,2),A=Ve(A,2);!X(P);){var S=x.add(P);0>=S.l(k)&&(D=D.add(A),x=S),P=Ve(P,1),A=Ve(A,1)}return T=ge(k,D.j(T)),new _e(D,T)}for(D=V;0<=k.l(T);){for(A=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),x=E(A),S=x.j(T);Y(S)||0<S.l(k);)A-=P,x=E(A),S=x.j(T);X(x)&&(x=F),D=D.add(x),k=ge(k,S)}return new _e(D,k)}i.A=function(k){return Ie(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)&k.i(P);return new f(A,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)|k.i(P);return new f(A,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)^k.i(P);return new f(A,this.h^k.h)};function Je(k){for(var T=k.g.length+1,A=[],P=0;P<T;P++)A[P]=k.i(P)<<1|k.i(P-1)>>>31;return new f(A,k.h)}function Ve(k,T){var A=T>>5;T%=32;for(var P=k.g.length-A,D=[],x=0;x<P;x++)D[x]=0<T?k.i(x+A)>>>T|k.i(x+A+1)<<32-T:k.i(x+A);return new f(D,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Em=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=I,Pi=f}).apply(typeof Ip<"u"?Ip:typeof self<"u"?self:typeof window<"u"?window:{});var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wm,jo,Tm,Pl,nh,Im,Sm,Am;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Il=="object"&&Il];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var v=0;v<l.length-1;v++){var L=l[v];if(!(L in g))break e;g=g[L]}l=l[l.length-1],v=g[l],d=d(v),d!=v&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,v=!1,L={next:function(){if(!v&&g<l.length){var z=g++;return{value:d(z,l[z]),done:!1}}return v=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function _(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function E(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function I(l,d,g){return l.call.apply(l.bind,arguments)}function V(l,d,g){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,v),l.apply(d,L)}}return function(){return l.apply(d,arguments)}}function F(l,d,g){return F=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:V,F.apply(null,arguments)}function B(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function X(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(v,L,z){for(var G=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)G[Oe-2]=arguments[Oe];return d.prototype[L].apply(v,G)}}function Y(l){const d=l.length;if(0<d){const g=Array(d);for(let v=0;v<d;v++)g[v]=l[v];return g}return[]}function H(l,d){for(let g=1;g<arguments.length;g++){const v=arguments[g];if(_(v)){const L=l.length||0,z=v.length||0;l.length=L+z;for(let G=0;G<z;G++)l[L+G]=v[G]}else l.push(v)}}class ge{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ye(l){return/^[\s\xa0]*$/.test(l)}function _e(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Ie(l){return Ie[" "](l),l}Ie[" "]=function(){};var Je=_e().indexOf("Gecko")!=-1&&!(_e().toLowerCase().indexOf("webkit")!=-1&&_e().indexOf("Edge")==-1)&&!(_e().indexOf("Trident")!=-1||_e().indexOf("MSIE")!=-1)&&_e().indexOf("Edge")==-1;function Ve(l,d,g){for(const v in l)d.call(g,l[v],v,l)}function k(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function T(l){const d={};for(const g in l)d[g]=l[g];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,d){let g,v;for(let L=1;L<arguments.length;L++){v=arguments[L];for(g in v)l[g]=v[g];for(let z=0;z<A.length;z++)g=A[z],Object.prototype.hasOwnProperty.call(v,g)&&(l[g]=v[g])}}function D(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function x(l){m.setTimeout(()=>{throw l},0)}function S(){var l=le;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,g){const v=Ct.get();v.set(d,g),this.h?this.h.next=v:this.g=v,this.h=v}}var Ct=new ge(()=>new Pt,l=>l.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,J=!1,le=new Ze,ee=()=>{const l=m.Promise.resolve(void 0);Fe=()=>{l.then(N)}};var N=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){x(g)}var d=Ct;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}J=!1};function b(){this.s=this.s,this.C=this.C}b.prototype.s=!1,b.prototype.ma=function(){this.s||(this.s=!0,this.N())},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function Ee(l,d){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Je){e:{try{Ie(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ee.aa.h.call(this)}}X(Ee,oe);var Re={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Be(l,d,g,v,L){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!v,this.ha=L,this.key=++Le,this.da=this.fa=!1}function pt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Qn(l){this.src=l,this.g={},this.h=0}Qn.prototype.add=function(l,d,g,v,L){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var G=mr(l,d,v,L);return-1<G?(d=l[G],g||(d.fa=!1)):(d=new Be(d,this.src,z,!!v,L),d.fa=g,l.push(d)),d};function xi(l,d){var g=d.type;if(g in l.g){var v=l.g[g],L=Array.prototype.indexOf.call(v,d,void 0),z;(z=0<=L)&&Array.prototype.splice.call(v,L,1),z&&(pt(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function mr(l,d,g,v){for(var L=0;L<l.length;++L){var z=l[L];if(!z.da&&z.listener==d&&z.capture==!!g&&z.ha==v)return L}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),Li={};function Hs(l,d,g,v,L){if(Array.isArray(d)){for(var z=0;z<d.length;z++)Hs(l,d[z],g,v,L);return null}return g=Ks(g),l&&l[xe]?l.K(d,g,E(v)?!!v.capture:!!v,L):Ws(l,d,g,!1,v,L)}function Ws(l,d,g,v,L,z){if(!d)throw Error("Invalid event type");var G=E(L)?!!L.capture:!!L,Oe=Oi(l);if(Oe||(l[Jr]=Oe=new Qn(l)),g=Oe.add(d,g,v,G,z),g.proxy)return g;if(v=aa(),g.proxy=v,v.src=l,v.listener=g,l.addEventListener)ve||(L=G),L===void 0&&(L=!1),l.addEventListener(d.toString(),v,L);else if(l.attachEvent)l.attachEvent(Gn(d.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function aa(){function l(g){return d.call(l.src,l.listener,g)}const d=Qs;return l}function Mi(l,d,g,v,L){if(Array.isArray(d))for(var z=0;z<d.length;z++)Mi(l,d[z],g,v,L);else v=E(v)?!!v.capture:!!v,g=Ks(g),l&&l[xe]?(l=l.i,d=String(d).toString(),d in l.g&&(z=l.g[d],g=mr(z,g,v,L),-1<g&&(pt(z[g]),Array.prototype.splice.call(z,g,1),z.length==0&&(delete l.g[d],l.h--)))):l&&(l=Oi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=mr(d,g,v,L)),(g=-1<l?d[l]:null)&&Kn(g))}function Kn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[xe])xi(d.i,l);else{var g=l.type,v=l.proxy;d.removeEventListener?d.removeEventListener(g,v,l.capture):d.detachEvent?d.detachEvent(Gn(g),v):d.addListener&&d.removeListener&&d.removeListener(v),(g=Oi(d))?(xi(g,l),g.h==0&&(g.src=null,d[Jr]=null)):pt(l)}}}function Gn(l){return l in Li?Li[l]:Li[l]="on"+l}function Qs(l,d){if(l.da)l=!0;else{d=new Ee(d,this);var g=l.listener,v=l.ha||l.src;l.fa&&Kn(l),l=g.call(v,d)}return l}function Oi(l){return l=l[Jr],l instanceof Qn?l:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ks(l){return typeof l=="function"?l:(l[Fi]||(l[Fi]=function(d){return l.handleEvent(d)}),l[Fi])}function ot(){b.call(this),this.i=new Qn(this),this.M=this,this.F=null}X(ot,b),ot.prototype[xe]=!0,ot.prototype.removeEventListener=function(l,d,g,v){Mi(this,l,d,g,v)};function at(l,d){var g,v=l.F;if(v)for(g=[];v;v=v.F)g.push(v);if(l=l.M,v=d.type||d,typeof d=="string")d=new oe(d,l);else if(d instanceof oe)d.target=d.target||l;else{var L=d;d=new oe(v,l),P(d,L)}if(L=!0,g)for(var z=g.length-1;0<=z;z--){var G=d.g=g[z];L=Xn(G,v,!0,d)&&L}if(G=d.g=l,L=Xn(G,v,!0,d)&&L,L=Xn(G,v,!1,d)&&L,g)for(z=0;z<g.length;z++)G=d.g=g[z],L=Xn(G,v,!1,d)&&L}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],v=0;v<g.length;v++)pt(g[v]);delete l.g[d],l.h--}}this.F=null},ot.prototype.K=function(l,d,g,v){return this.i.add(String(l),d,!1,g,v)},ot.prototype.L=function(l,d,g,v){return this.i.add(String(l),d,!0,g,v)};function Xn(l,d,g,v){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,z=0;z<d.length;++z){var G=d[z];if(G&&!G.da&&G.capture==g){var Oe=G.listener,lt=G.ha||G.src;G.fa&&xi(l.i,G),L=Oe.call(lt,v)!==!1&&L}}return L&&!v.defaultPrevented}function Gs(l,d,g){if(typeof l=="function")g&&(l=F(l,g));else if(l&&typeof l.handleEvent=="function")l=F(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function gr(l){l.g=Gs(()=>{l.g=null,l.i&&(l.i=!1,gr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Zr extends b{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(l){b.call(this),this.h=l,this.g={}}X(ei,b);var Xs=[];function Ys(l){Ve(l.g,function(d,g){this.g.hasOwnProperty(g)&&Kn(d)},l),l.g={}}ei.prototype.N=function(){ei.aa.N.call(this),Ys(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Js=m.JSON.stringify,Zs=m.JSON.parse,eo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ti(){}ti.prototype.h=null;function Ui(l){return l.h||(l.h=l.i())}function zi(){}var on={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){oe.call(this,"d")}X(Nn,oe);function Bi(){oe.call(this,"c")}X(Bi,oe);var xn={},to=null;function ni(){return to=to||new ot}xn.La="serverreachability";function no(l){oe.call(this,xn.La,l)}X(no,oe);function Yn(l){const d=ni();at(d,new no(d))}xn.STAT_EVENT="statevent";function ro(l,d){oe.call(this,xn.STAT_EVENT,l),this.stat=d}X(ro,oe);function et(l){const d=ni();at(d,new ro(d,l))}xn.Ma="timingevent";function ji(l,d){oe.call(this,xn.Ma,l),this.size=d}X(ji,oe);function gn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ri(){this.g=!0}ri.prototype.xa=function(){this.g=!1};function ii(l,d,g,v,L,z){l.info(function(){if(l.g)if(z)for(var G="",Oe=z.split("&"),lt=0;lt<Oe.length;lt++){var Ce=Oe[lt].split("=");if(1<Ce.length){var mt=Ce[0];Ce=Ce[1];var rt=mt.split("_");G=2<=rt.length&&rt[1]=="type"?G+(mt+"="+Ce+"&"):G+(mt+"=redacted&")}}else G=null;else G=z;return"XMLHTTP REQ ("+v+") [attempt "+L+"]: "+d+`
`+g+`
`+G})}function bi(l,d,g,v,L,z,G){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+L+"]: "+d+`
`+g+`
`+z+" "+G})}function yn(l,d,g,v){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+hu(l,g)+(v?" "+v:"")})}function io(l,d){l.info(function(){return"TIMEOUT: "+d})}ri.prototype.info=function(){};function hu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var v=g[l];if(!(2>v.length)){var L=v[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var G=1;G<L.length;G++)L[G]=""}}}}return Js(g)}catch{return d}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},la={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_n;function si(){}X(si,ti),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},_n=new si;function vn(l,d,g,v){this.j=l,this.i=d,this.l=g,this.R=v||1,this.U=new ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ua}function ua(){this.i=null,this.g="",this.h=!1}var so={},qi={};function Hi(l,d,g){l.L=1,l.v=wr(Yt(d)),l.m=g,l.P=!0,oo(l,null)}function oo(l,d){l.F=Date.now(),je(l),l.A=Yt(l.v);var g=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Ir(g.i,"t",v),l.C=0,g=l.j.J,l.h=new ua,l.g=Ca(l.j,g?d:null,!l.m),0<l.O&&(l.M=new Zr(F(l.Y,l,l.g),l.O)),d=l.U,g=l.g,v=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Xs[0]=L.toString()),L=Xs);for(var z=0;z<L.length;z++){var G=Hs(g,L[z],v||d.handleEvent,!1,d.h||d);if(!G)break;d.g[G.key]=G}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Yn(),ii(l.i,l.u,l.A,l.l,l.R,l.m)}vn.prototype.ca=function(l){l=l.target;const d=this.M;d&&jt(l)==3?d.j():this.Y(l)},vn.prototype.Y=function(l){try{if(l==this.g)e:{const rt=jt(this.g);var d=this.g.Ba();const un=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||fo(this.g)))){this.J||rt!=4||d==7||(d==8||0>=un?Yn(3):Yn(2)),oi(this);var g=this.g.Z();this.X=g;t:if(ca(this)){var v=fo(this.g);l="";var L=v.length,z=jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),yr(this);var G="";break t}this.h.i=new m.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,l+=this.h.i.decode(v[d],{stream:!(z&&d==L-1)});v.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,bi(this.i,this.u,this.A,this.l,this.R,rt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,lt=this.g;if((Oe=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ye(Oe)){var Ce=Oe;break t}}Ce=null}if(g=Ce)yn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ao(this,g);else{this.o=!1,this.s=3,et(12),an(this),yr(this);break e}}if(this.P){g=!0;let Zt;for(;!this.J&&this.C<G.length;)if(Zt=fu(this,G),Zt==qi){rt==4&&(this.s=4,et(14),g=!1),yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==so){this.s=4,et(15),yn(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else yn(this.i,this.l,Zt,null),ao(this,Zt);if(ca(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||G.length!=0||this.h.h||(this.s=1,et(16),g=!1),this.o=this.o&&g,!g)yn(this.i,this.l,G,"[Invalid Chunked Response]"),an(this),yr(this);else if(0<G.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),mo(mt),mt.M=!0,et(11))}}else yn(this.i,this.l,G,null),ao(this,G);rt==4&&an(this),this.o&&!this.J&&(rt==4?ns(this.j,this):(this.o=!1,je(this)))}else Yi(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),an(this),yr(this)}}}catch{}finally{}};function ca(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function fu(l,d){var g=l.C,v=d.indexOf(`
`,g);return v==-1?qi:(g=Number(d.substring(g,v)),isNaN(g)?so:(v+=1,v+g>d.length?qi:(d=d.slice(v,v+g),l.C=v+g,d)))}vn.prototype.cancel=function(){this.J=!0,an(this)};function je(l){l.S=Date.now()+l.I,ha(l,l.I)}function ha(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=gn(F(l.ba,l),d)}function oi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}vn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(io(this.i,this.A),this.L!=2&&(Yn(),et(17)),an(this),this.s=2,yr(this)):ha(this,this.S-l)};function yr(l){l.j.G==0||l.J||ns(l.j,l)}function an(l){oi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Ys(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function ao(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Ot(g.h,l))){if(!l.K&&Ot(g.h,l)&&g.G==3){try{var v=g.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var L=v;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)ts(g),Sn(g);else break e;es(g),et(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=gn(F(g.Za,g),6e3));if(1>=da(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else nr(g,11)}else if((l.K||g.g==l)&&ts(g),!ye(d))for(L=g.Da.g.parse(d),d=0;d<L.length;d++){let Ce=L[d];if(g.T=Ce[0],Ce=Ce[1],g.G==2)if(Ce[0]=="c"){g.K=Ce[1],g.ia=Ce[2];const mt=Ce[3];mt!=null&&(g.la=mt,g.j.info("VER="+g.la));const rt=Ce[4];rt!=null&&(g.Aa=rt,g.j.info("SVER="+g.Aa));const un=Ce[5];un!=null&&typeof un=="number"&&0<un&&(v=1.5*un,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;const Zt=l.g;if(Zt){const di=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var z=v.h;z.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(lo(z,z.h),z.h=null))}if(v.D){const is=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(v.ya=is,ze(v.I,v.D,is))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var G=l;if(v.qa=Ra(v,v.J?v.ia:null,v.W),G.K){pa(v.h,G);var Oe=G,lt=v.L;lt&&(Oe.I=lt),Oe.B&&(oi(Oe),je(Oe)),v.g=G}else fi(v);0<g.i.length&&Fn(g)}else Ce[0]!="stop"&&Ce[0]!="close"||nr(g,7);else g.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?nr(g,7):wt(g):Ce[0]!="noop"&&g.l&&g.l.ta(Ce),g.v=0)}}Yn(4)}catch{}}var fa=class{constructor(l,d){this.g=l,this.map=d}};function ai(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function da(l){return l.h?1:l.g?l.g.size:0}function Ot(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function lo(l,d){l.g?l.g.add(d):l.h=d}function pa(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}ai.prototype.cancel=function(){if(this.i=ma(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ma(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return Y(l.i)}function Wi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(_(l)){for(var d=[],g=l.length,v=0;v<g;v++)d.push(l[v]);return d}d=[],g=0;for(v in l)d[g++]=l[v];return d}function Qi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(_(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const v in l)d[g++]=v;return d}}}function _r(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(_(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=Qi(l),v=Wi(l),L=v.length,z=0;z<L;z++)d.call(void 0,v[z],g&&g[z],l)}var li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function du(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var v=l[g].indexOf("="),L=null;if(0<=v){var z=l[g].substring(0,v);L=l[g].substring(v+1)}else z=l[g];d(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Jn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Jn){this.h=l.h,ui(this,l.j),this.o=l.o,this.g=l.g,vr(this,l.s),this.l=l.l;var d=l.i,g=new Ln;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Er(this,g),this.m=l.m}else l&&(d=String(l).match(li))?(this.h=!1,ui(this,d[1]||"",!0),this.o=Se(d[2]||""),this.g=Se(d[3]||"",!0),vr(this,d[4]),this.l=Se(d[5]||"",!0),Er(this,d[6]||"",!0),this.m=Se(d[7]||"")):(this.h=!1,this.i=new Ln(null,this.h))}Jn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Tr(d,Ki,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Tr(d,Ki,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Tr(g,g.charAt(0)=="/"?_a:ya,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Tr(g,uo)),l.join("")};function Yt(l){return new Jn(l)}function ui(l,d,g){l.j=g?Se(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function vr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Er(l,d,g){d instanceof Ln?(l.i=d,Mn(l.i,l.h)):(g||(d=Tr(d,va)),l.i=new Ln(d,l.h))}function ze(l,d,g){l.i.set(d,g)}function wr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Se(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Tr(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,ga),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ga(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ki=/[#\/\?@]/g,ya=/[#\?:]/g,_a=/[#\?]/g,va=/[#\?@]/g,uo=/#/g;function Ln(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Et(l){l.g||(l.g=new Map,l.h=0,l.i&&du(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Ln.prototype,i.add=function(l,d){Et(this),this.i=null,l=ln(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function En(l,d){Et(l),d=ln(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function wn(l,d){return Et(l),d=ln(l,d),l.g.has(d)}i.forEach=function(l,d){Et(this),this.g.forEach(function(g,v){g.forEach(function(L){l.call(d,L,v,this)},this)},this)},i.na=function(){Et(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let v=0;v<d.length;v++){const L=l[v];for(let z=0;z<L.length;z++)g.push(d[v])}return g},i.V=function(l){Et(this);let d=[];if(typeof l=="string")wn(this,l)&&(d=d.concat(this.g.get(ln(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return Et(this),this.i=null,l=ln(this,l),wn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Ir(l,d,g){En(l,d),0<g.length&&(l.i=null,l.g.set(ln(l,d),Y(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var v=d[g];const z=encodeURIComponent(String(v)),G=this.V(v);for(v=0;v<G.length;v++){var L=z;G[v]!==""&&(L+="="+encodeURIComponent(String(G[v]))),l.push(L)}}return this.i=l.join("&")};function ln(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Mn(l,d){d&&!l.j&&(Et(l),l.i=null,l.g.forEach(function(g,v){var L=v.toLowerCase();v!=L&&(En(this,v),Ir(this,L,g))},l)),l.j=d}function pu(l,d){const g=new ri;if(m.Image){const v=new Image;v.onload=B(Bt,g,"TestLoadImage: loaded",!0,d,v),v.onerror=B(Bt,g,"TestLoadImage: error",!1,d,v),v.onabort=B(Bt,g,"TestLoadImage: abort",!1,d,v),v.ontimeout=B(Bt,g,"TestLoadImage: timeout",!1,d,v),m.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else d(!1)}function Ea(l,d){const g=new ri,v=new AbortController,L=setTimeout(()=>{v.abort(),Bt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:v.signal}).then(z=>{clearTimeout(L),z.ok?Bt(g,"TestPingServer: ok",!0,d):Bt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),Bt(g,"TestPingServer: error",!1,d)})}function Bt(l,d,g,v,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),v(g)}catch{}}function mu(){this.g=new eo}function wa(l,d,g){const v=g||"";try{_r(l,function(L,z){let G=L;E(L)&&(G=Js(L)),d.push(v+z+"="+encodeURIComponent(G))})}catch(L){throw d.push(v+"type="+encodeURIComponent("_badmap")),L}}function Zn(l){this.l=l.Ub||null,this.j=l.eb||!1}X(Zn,ti),Zn.prototype.g=function(){return new ci(this.l,this.j)},Zn.prototype.i=function(l){return function(){return l}}({});function ci(l,d){ot.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(ci,ot),i=ci.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ta(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ta(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Tn(this):In(this),this.readyState==3&&Ta(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Tn(this))},i.Qa=function(l){this.g&&(this.response=l,Tn(this))},i.ga=function(){this.g&&Tn(this)};function Tn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function er(l){let d="";return Ve(l,function(g,v){d+=v,d+=":",d+=g,d+=`\r
`}),d}function Sr(l,d,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=er(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):ze(l,d,g))}function He(l){ot.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(He,ot);var gu=/^https?$/i,co=["POST","PUT"];i=He.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_n.g(),this.v=this.o?Ui(this.o):Ui(_n),this.g.onreadystatechange=F(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(z){hi(this,z);return}if(l=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var L in v)g.set(L,v[L]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const z of v.keys())g.set(z,v.get(z));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),L=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(co,d,void 0))||v||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,G]of g)this.g.setRequestHeader(z,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xi(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){hi(this,z)}};function hi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Gi(l),Jt(l)}function Gi(l){l.A||(l.A=!0,at(l,"complete"),at(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,at(this,"complete"),at(this,"abort"),Jt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jt(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ho(this):this.bb())},i.bb=function(){ho(this)};function ho(l){if(l.h&&typeof f<"u"&&(!l.v[1]||jt(l)!=4||l.Z()!=2)){if(l.u&&jt(l)==4)Gs(l.Ea,0,l);else if(at(l,"readystatechange"),jt(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var v;if(v=G===0){var L=String(l.D).match(li)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),v=!gu.test(L?L.toLowerCase():"")}g=v}if(g)at(l,"complete"),at(l,"success");else{l.m=6;try{var z=2<jt(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",Gi(l)}}finally{Jt(l)}}}}function Jt(l,d){if(l.g){Xi(l);const g=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||at(l,"ready");try{g.onreadystatechange=v}catch{}}}function Xi(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function jt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<jt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Zs(d)}};function fo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(l){const d={};l=(l.g&&2<=jt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(ye(l[v]))continue;var g=D(l[v]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=d[L]||[];d[L]=z,z.push(g)}k(d,function(v){return v.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function On(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function po(l){this.Aa=0,this.i=[],this.j=new ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=On("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=On("baseRetryDelayMs",5e3,l),this.cb=On("retryDelaySeedMs",1e4,l),this.Wa=On("forwardChannelMaxRetries",2,l),this.wa=On("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ai(l&&l.concurrentRequestLimit),this.Da=new mu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=po.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,v){et(0),this.W=l,this.H=d||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=Ra(this,null,this.W),Fn(this)};function wt(l){if(Ji(l),l.G==3){var d=l.U++,g=Yt(l.I);if(ze(g,"SID",l.K),ze(g,"RID",d),ze(g,"TYPE","terminate"),tr(l,g),d=new vn(l,l.j,d),d.L=2,d.v=wr(Yt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=Ca(d.j,null),d.g.ea(d.v)),d.F=Date.now(),je(d)}Aa(l)}function Sn(l){l.g&&(mo(l),l.g.cancel(),l.g=null)}function Ji(l){Sn(l),l.u&&(m.clearTimeout(l.u),l.u=null),ts(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Fn(l){if(!Xt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Fe||ee(),J||(Fe(),J=!0),le.add(d,l),l.B=0}}function yu(l,d){return da(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=gn(F(l.Ga,l,d),Sa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new vn(this,this.j,l);let z=this.o;if(this.S&&(z?(z=T(z),P(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Ar(this,L,d),g=Yt(this.I),ze(g,"RID",l),ze(g,"CVER",22),this.D&&ze(g,"X-HTTP-Session-Id",this.D),tr(this,g),z&&(this.O?d="headers="+encodeURIComponent(String(er(z)))+"&"+d:this.m&&Sr(g,this.m,z)),lo(this.h,L),this.Ua&&ze(g,"TYPE","init"),this.P?(ze(g,"$req",d),ze(g,"SID","null"),L.T=!0,Hi(L,g,null)):Hi(L,g,d),this.G=2}}else this.G==3&&(l?Zi(this,l):this.i.length==0||Xt(this.h)||Zi(this))};function Zi(l,d){var g;d?g=d.l:g=l.U++;const v=Yt(l.I);ze(v,"SID",l.K),ze(v,"RID",g),ze(v,"AID",l.T),tr(l,v),l.m&&l.o&&Sr(v,l.m,l.o),g=new vn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Ar(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),lo(l.h,g),Hi(g,v,d)}function tr(l,d){l.H&&Ve(l.H,function(g,v){ze(d,v,g)}),l.l&&_r({},function(g,v){ze(d,v,g)})}function Ar(l,d,g){g=Math.min(l.i.length,g);var v=l.l?F(l.l.Na,l.l,l):null;e:{var L=l.i;let z=-1;for(;;){const G=["count="+g];z==-1?0<g?(z=L[0].g,G.push("ofs="+z)):z=0:G.push("ofs="+z);let Oe=!0;for(let lt=0;lt<g;lt++){let Ce=L[lt].g;const mt=L[lt].map;if(Ce-=z,0>Ce)z=Math.max(0,L[lt].g-100),Oe=!1;else try{wa(mt,G,"req"+Ce+"_")}catch{v&&v(mt)}}if(Oe){v=G.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,v}function fi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Fe||ee(),J||(Fe(),J=!0),le.add(d,l),l.v=0}}function es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=gn(F(l.Fa,l),Sa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ia(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=gn(F(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Sn(this),Ia(this))};function mo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Ia(l){l.g=new vn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Yt(l.qa);ze(d,"RID","rpc"),ze(d,"SID",l.K),ze(d,"AID",l.T),ze(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(d,"TO",l.ja),ze(d,"TYPE","xmlhttp"),tr(l,d),l.m&&l.o&&Sr(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=wr(Yt(d)),g.m=null,g.P=!0,oo(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Sn(this),es(this),et(19))};function ts(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ns(l,d){var g=null;if(l.g==d){ts(l),mo(l),l.g=null;var v=2}else if(Ot(l.h,d))g=d.D,pa(l.h,d),v=1;else return;if(l.G!=0){if(d.o)if(v==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var L=l.B;v=ni(),at(v,new ji(v,g)),Fn(l)}else fi(l);else if(L=d.s,L==3||L==0&&0<d.X||!(v==1&&yu(l,d)||v==2&&es(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),L){case 1:nr(l,5);break;case 4:nr(l,10);break;case 3:nr(l,6);break;default:nr(l,2)}}}function Sa(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function nr(l,d){if(l.j.info("Error code "+d),d==2){var g=F(l.fb,l),v=l.Xa;const L=!v;v=new Jn(v||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ui(v,"https"),wr(v),L?pu(v.toString(),g):Ea(v.toString(),g)}else et(2);l.G=0,l.l&&l.l.sa(d),Aa(l),Ji(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Aa(l){if(l.G=0,l.ka=[],l.l){const d=ma(l.h);(d.length!=0||l.i.length!=0)&&(H(l.ka,d),H(l.ka,l.i),l.h.i.length=0,Y(l.i),l.i.length=0),l.l.ra()}}function Ra(l,d,g){var v=g instanceof Jn?Yt(g):new Jn(g);if(v.g!="")d&&(v.g=d+"."+v.g),vr(v,v.s);else{var L=m.location;v=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var z=new Jn(null);v&&ui(z,v),d&&(z.g=d),L&&vr(z,L),g&&(z.l=g),v=z}return g=l.D,d=l.ya,g&&d&&ze(v,g,d),ze(v,"VER",l.la),tr(l,v),v}function Ca(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new He(new Zn({eb:g})):new He(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function go(){}i=go.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function rs(){}rs.prototype.g=function(l,d){return new Ft(l,d)};function Ft(l,d){ot.call(this),this.g=new po(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ye(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ye(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Un(this)}X(Ft,ot),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){wt(this.g)},Ft.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Js(l),l=g);d.i.push(new fa(d.Ya++,l)),d.G==3&&Fn(d)},Ft.prototype.N=function(){this.g.l=null,delete this.j,wt(this.g),delete this.g,Ft.aa.N.call(this)};function Pa(l){Nn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}X(Pa,Nn);function ka(){Bi.call(this),this.status=1}X(ka,Bi);function Un(l){this.g=l}X(Un,go),Un.prototype.ua=function(){at(this.g,"a")},Un.prototype.ta=function(l){at(this.g,new Pa(l))},Un.prototype.sa=function(l){at(this.g,new ka)},Un.prototype.ra=function(){at(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Am=function(){return new rs},Sm=function(){return ni()},Im=xn,nh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,Pl=$i,la.COMPLETE="complete",Tm=la,zi.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",ot.prototype.listen=ot.prototype.K,jo=zi,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,wm=He}).apply(typeof Il<"u"?Il:typeof self<"u"?self:typeof window<"u"?window:{});const Sp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new pm("@firebase/firestore");function As(){return Vi.logLevel}function te(i,...e){if(Vi.logLevel<=ke.DEBUG){const n=e.map(Eh);Vi.debug(`Firestore (${js}): ${i}`,...n)}}function dr(i,...e){if(Vi.logLevel<=ke.ERROR){const n=e.map(Eh);Vi.error(`Firestore (${js}): ${i}`,...n)}}function Ns(i,...e){if(Vi.logLevel<=ke.WARN){const n=e.map(Eh);Vi.warn(`Firestore (${js}): ${i}`,...n)}}function Eh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(i="Unexpected state"){const e=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: `+i;throw dr(e),new Error(e)}function Me(i,e){i||de()}function me(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class Cv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Pv{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0);let s=this.i;const a=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let c=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ki,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const _=c;e.enqueueRetryable(async()=>{await _.promise,await a(this.currentUser)})},m=_=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ki)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Me(typeof s.accessToken=="string"),new Rm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new Lt(e)}}class kv{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Vv{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new kv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Me(this.o===void 0);const s=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new Dv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=xv(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Ae(i,e){return i<e?-1:i>e?1:0}function xs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new ft(0,0))}static max(){return new pe(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,s){n===void 0?n=0:n>e.length&&de(),s===void 0?s=e.length-n:s>e.length-n&&de(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Yo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yo?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),f=n.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qe extends Yo{construct(e,n,s){return new Qe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const Lv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Yo{construct(e,n,s){return new At(e,n,s)}static isValidIdentifier(e){return Lv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ae(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ae(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[a+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ae(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new ae(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Qe.fromString(e))}static fromName(e){return new he(Qe.fromString(e).popFirst(5))}static empty(){return new he(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Qe(e.slice()))}}function Mv(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=pe.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new Hr(a,he.empty(),e)}function Ov(i){return new Hr(i.readTime,i.key,-1)}class Hr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Hr(pe.min(),he.empty(),-1)}static max(){return new Hr(pe.max(),he.empty(),-1)}}function Fv(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(i.documentKey,e.documentKey),n!==0?n:Ae(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==Uv)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,s)=>{n(e)})}static reject(e){return new j((n,s)=>{s(e)})}static waitFor(e){return new j((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},_=>s(_))}),f=!0,c===a&&n()})}static or(e){let n=j.resolve(!1);for(const s of e)n=n.next(a=>a?j.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new j((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let _=0;_<c;_++){const E=_;n(e[E]).next(I=>{f[E]=I,++m,m===c&&s(f)},I=>a(I))}})}static doWhile(e,n){return new j((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function Bv(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $s(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ql.oe=-1;function Kl(i){return i==null}function Fl(i){return i===0&&1/i==-1/0}function jv(i){return typeof i=="number"&&Number.isInteger(i)&&!Fl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Ap(e)),e=$v(i.get(n),e);return Ap(e)}function $v(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Ap(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Xr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Pm(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sl(this.root,e,this.comparator,!0)}}class Sl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??St.RED,this.left=a??St.EMPTY,this.right=c??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new St(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return St.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,s,a,c){return this}insert(e,n,s){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cp(this.data.getIterator())}getIteratorFrom(e){return new Cp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class Cp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new rn([])}unionWith(e){let n=new dt(At.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new km("Invalid base64 string: "+c):c}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const qv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(i){if(Me(!!i),typeof i=="string"){let e=0;const n=qv.exec(i);if(Me(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nt(i.seconds),nanos:nt(i.nanos)}}function nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Qr(i){return typeof i=="string"?Rt.fromBase64String(i):Rt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gl(i){const e=i.mapValue.fields.__previous_value__;return wh(e)?Gl(e):e}function Jo(i){const e=Wr(i.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,s,a,c,f,m,_,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=_,this.useFetchStreams=E}}class Zo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Kr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?wh(i)?4:Qv(i)?9007199254740991:Wv(i)?10:11:de()}function Hn(i,e){if(i===e)return!0;const n=Kr(i);if(n!==Kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Jo(i).isEqual(Jo(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Wr(a.timestampValue),m=Wr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Qr(a.bytesValue).isEqual(Qr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return nt(a.geoPointValue.latitude)===nt(c.geoPointValue.latitude)&&nt(a.geoPointValue.longitude)===nt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return nt(a.integerValue)===nt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=nt(a.doubleValue),m=nt(c.doubleValue);return f===m?Fl(f)===Fl(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return xs(i.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Rp(f)!==Rp(m))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(m[_]===void 0||!Hn(f[_],m[_])))return!1;return!0}(i,e);default:return de()}}function ea(i,e){return(i.values||[]).find(n=>Hn(n,e))!==void 0}function Ls(i,e){if(i===e)return 0;const n=Kr(i),s=Kr(e);if(n!==s)return Ae(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=nt(c.integerValue||c.doubleValue),_=nt(f.integerValue||f.doubleValue);return m<_?-1:m>_?1:m===_?0:isNaN(m)?isNaN(_)?0:-1:1}(i,e);case 3:return Pp(i.timestampValue,e.timestampValue);case 4:return Pp(Jo(i),Jo(e));case 5:return Ae(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Qr(c),_=Qr(f);return m.compareTo(_)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),_=f.split("/");for(let E=0;E<m.length&&E<_.length;E++){const I=Ae(m[E],_[E]);if(I!==0)return I}return Ae(m.length,_.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Ae(nt(c.latitude),nt(f.latitude));return m!==0?m:Ae(nt(c.longitude),nt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return kp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,_,E,I;const V=c.fields||{},F=f.fields||{},B=(m=V.value)===null||m===void 0?void 0:m.arrayValue,X=(_=F.value)===null||_===void 0?void 0:_.arrayValue,Y=Ae(((E=B==null?void 0:B.values)===null||E===void 0?void 0:E.length)||0,((I=X==null?void 0:X.values)===null||I===void 0?void 0:I.length)||0);return Y!==0?Y:kp(B,X)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Al.mapValue&&f===Al.mapValue)return 0;if(c===Al.mapValue)return 1;if(f===Al.mapValue)return-1;const m=c.fields||{},_=Object.keys(m),E=f.fields||{},I=Object.keys(E);_.sort(),I.sort();for(let V=0;V<_.length&&V<I.length;++V){const F=Ae(_[V],I[V]);if(F!==0)return F;const B=Ls(m[_[V]],E[I[V]]);if(B!==0)return B}return Ae(_.length,I.length)}(i.mapValue,e.mapValue);default:throw de()}}function Pp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ae(i,e);const n=Wr(i),s=Wr(e),a=Ae(n.seconds,s.seconds);return a!==0?a:Ae(n.nanos,s.nanos)}function kp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Ls(n[a],s[a]);if(c)return c}return Ae(n.length,s.length)}function Ms(i){return rh(i)}function rh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Qr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return he.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=rh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${rh(n.fields[f])}`;return a+"}"}(i.mapValue):de()}function kl(i){switch(Kr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gl(i);return e?16+kl(e):16;case 5:return 2*i.stringValue.length;case 6:return Qr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+kl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Xr(s.fields,(c,f)=>{a+=c.length+kl(f)}),a}(i.mapValue);default:throw de()}}function ih(i){return!!i&&"integerValue"in i}function Th(i){return!!i&&"arrayValue"in i}function Vp(i){return!!i&&"nullValue"in i}function Dp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Vl(i){return!!i&&"mapValue"in i}function Wv(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ho(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Xr(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ho(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ho(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Qv(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Vl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ho(n)}setAll(e){let n=At.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const _=this.getFieldsMap(n);this.applyChanges(_,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Ho(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Vl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Vl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Xr(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Gt(Ho(this.value))}}function Vm(i){const e=[];return Xr(i.fields,(n,s)=>{const a=new At([n]);if(Vl(s)){const c=Vm(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Mt(e,0,pe.min(),pe.min(),pe.min(),Gt.empty(),0)}static newFoundDocument(e,n,s,a){return new Mt(e,1,n,pe.min(),s,a,0)}static newNoDocument(e,n){return new Mt(e,2,n,pe.min(),pe.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,pe.min(),pe.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.position=e,this.inclusive=n}}function Np(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=he.comparator(he.fromName(f.referenceValue),n.key):s=Ls(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function xp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Hn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Kv(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{}class ht extends Dm{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Xv(e,n,s):n==="array-contains"?new Zv(e,s):n==="in"?new e0(e,s):n==="not-in"?new t0(e,s):n==="array-contains-any"?new n0(e,s):new ht(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Yv(e,s):new Jv(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends Dm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Wn(e,n)}matches(e){return Nm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Nm(i){return i.op==="and"}function xm(i){return Gv(i)&&Nm(i)}function Gv(i){for(const e of i.filters)if(e instanceof Wn)return!1;return!0}function sh(i){if(i instanceof ht)return i.field.canonicalString()+i.op.toString()+Ms(i.value);if(xm(i))return i.filters.map(e=>sh(e)).join(",");{const e=i.filters.map(n=>sh(n)).join(",");return`${i.op}(${e})`}}function Lm(i,e){return i instanceof ht?function(s,a){return a instanceof ht&&s.op===a.op&&s.field.isEqual(a.field)&&Hn(s.value,a.value)}(i,e):i instanceof Wn?function(s,a){return a instanceof Wn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&Lm(f,a.filters[m]),!0):!1}(i,e):void de()}function Mm(i){return i instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Ms(n.value)}`}(i):i instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(Mm).join(" ,")+"}"}(i):"Filter"}class Xv extends ht{constructor(e,n,s){super(e,n,s),this.key=he.fromName(s.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yv extends ht{constructor(e,n){super(e,"in",n),this.keys=Om("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Jv extends ht{constructor(e,n){super(e,"not-in",n),this.keys=Om("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Om(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>he.fromName(s.referenceValue))}class Zv extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Th(n)&&ea(n.arrayValue,this.value)}}class e0 extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ea(this.value.arrayValue,n)}}class t0 extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ea(this.value.arrayValue,n)}}class n0 extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Th(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ea(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function Lp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new r0(i,e,n,s,a,c,f)}function Ih(i){const e=me(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>sh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Kl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ms(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ms(s)).join(",")),e.ue=n}return e.ue}function Sh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Kv(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Lm(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!xp(i.startAt,e.startAt)&&xp(i.endAt,e.endAt)}function oh(i){return he.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function i0(i,e,n,s,a,c,f,m){return new Xl(i,e,n,s,a,c,f,m)}function Ah(i){return new Xl(i)}function Mp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function s0(i){return i.collectionGroup!==null}function Wo(i){const e=me(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new dt(At.comparator);return f.filters.forEach(_=>{_.getFlattenedFilters().forEach(E=>{E.isInequality()&&(m=m.add(E.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new zl(c,s))}),n.has(At.keyField().canonicalString())||e.ce.push(new zl(At.keyField(),s))}return e.ce}function $n(i){const e=me(i);return e.le||(e.le=o0(e,Wo(i))),e.le}function o0(i,e){if(i.limitType==="F")return Lp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new zl(a.field,c)});const n=i.endAt?new Ul(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ul(i.startAt.position,i.startAt.inclusive):null;return Lp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function ah(i,e,n){return new Xl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Yl(i,e){return Sh($n(i),$n(e))&&i.limitType===e.limitType}function Fm(i){return`${Ih($n(i))}|lt:${i.limitType}`}function Rs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Mm(a)).join(", ")}]`),Kl(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Ms(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Ms(a)).join(",")),`Target(${s})`}($n(i))}; limitType=${i.limitType})`}function Jl(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):he.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Wo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,_){const E=Np(f,m,_);return f.inclusive?E<=0:E<0}(s.startAt,Wo(s),a)||s.endAt&&!function(f,m,_){const E=Np(f,m,_);return f.inclusive?E>=0:E>0}(s.endAt,Wo(s),a))}(i,e)}function a0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Um(i){return(e,n)=>{let s=!1;for(const a of Wo(i)){const c=l0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function l0(i,e,n){const s=i.field.isKeyField()?he.comparator(e.key,n.key):function(c,f,m){const _=f.data.field(c),E=m.data.field(c);return _!==null&&E!==null?Ls(_,E):de()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Pm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Xe(he.comparator);function pr(){return u0}const zm=new Xe(he.comparator);function bo(...i){let e=zm;for(const n of i)e=e.insert(n.key,n);return e}function Bm(i){let e=zm;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ci(){return Qo()}function jm(){return Qo()}function Qo(){return new Di(i=>i.toString(),(i,e)=>i.isEqual(e))}const c0=new Xe(he.comparator),h0=new dt(he.comparator);function Te(...i){let e=h0;for(const n of i)e=e.add(n);return e}const f0=new dt(Ae);function d0(){return f0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fl(e)?"-0":e}}function bm(i){return{integerValue:""+i}}function p0(i,e){return jv(e)?bm(e):Rh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this._=void 0}}function m0(i,e,n){return i instanceof Bl?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&wh(c)&&(c=Gl(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof ta?qm(i,e):i instanceof na?Hm(i,e):function(a,c){const f=$m(a,c),m=Op(f)+Op(a.Pe);return ih(f)&&ih(a.Pe)?bm(m):Rh(a.serializer,m)}(i,e)}function g0(i,e,n){return i instanceof ta?qm(i,e):i instanceof na?Hm(i,e):n}function $m(i,e){return i instanceof jl?function(s){return ih(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Bl extends Zl{}class ta extends Zl{constructor(e){super(),this.elements=e}}function qm(i,e){const n=Wm(e);for(const s of i.elements)n.some(a=>Hn(a,s))||n.push(s);return{arrayValue:{values:n}}}class na extends Zl{constructor(e){super(),this.elements=e}}function Hm(i,e){let n=Wm(e);for(const s of i.elements)n=n.filter(a=>!Hn(a,s));return{arrayValue:{values:n}}}class jl extends Zl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Op(i){return nt(i.integerValue||i.doubleValue)}function Wm(i){return Th(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function y0(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof ta&&a instanceof ta||s instanceof na&&a instanceof na?xs(s.elements,a.elements,Hn):s instanceof jl&&a instanceof jl?Hn(s.Pe,a.Pe):s instanceof Bl&&a instanceof Bl}(i.transform,e.transform)}class _0{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class eu{}function Qm(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ch(i.key,Dn.none()):new ra(i.key,i.data,Dn.none());{const n=i.data,s=Gt.empty();let a=new dt(At.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new Yr(i.key,s,new rn(a.toArray()),Dn.none())}}function v0(i,e,n){i instanceof ra?function(a,c,f){const m=a.value.clone(),_=Up(a.fieldTransforms,c,f.transformResults);m.setAll(_),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Yr?function(a,c,f){if(!Dl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Up(a.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(Km(a)),_.setAll(m),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ko(i,e,n,s){return i instanceof ra?function(c,f,m,_){if(!Dl(c.precondition,f))return m;const E=c.value.clone(),I=zp(c.fieldTransforms,_,f);return E.setAll(I),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null}(i,e,n,s):i instanceof Yr?function(c,f,m,_){if(!Dl(c.precondition,f))return m;const E=zp(c.fieldTransforms,_,f),I=f.data;return I.setAll(Km(c)),I.setAll(E),f.convertToFoundDocument(f.version,I).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(V=>V.field))}(i,e,n,s):function(c,f,m){return Dl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function E0(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=$m(s.transform,a||null);c!=null&&(n===null&&(n=Gt.empty()),n.set(s.field,c))}return n||null}function Fp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&xs(s,a,(c,f)=>y0(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ra extends eu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Yr extends eu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Km(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Up(i,e,n){const s=new Map;Me(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,g0(f,m,n[a]))}return s}function zp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,m0(c,f,e))}return s}class Ch extends eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w0 extends eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&v0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ko(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ko(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=jm();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const _=Qm(f,m);_!==null&&s.set(a.key,_),f.isValidDocument()||f.convertToNoDocument(pe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&xs(this.mutations,e.mutations,(n,s)=>Fp(n,s))&&xs(this.baseMutations,e.baseMutations,(n,s)=>Fp(n,s))}}class Ph{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Me(e.mutations.length===s.length);let a=function(){return c0}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Ph(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Pe;function A0(i){switch(i){default:return de();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function Gm(i){if(i===void 0)return dr("GRPC error has no .code"),W.UNKNOWN;switch(i){case st.OK:return W.OK;case st.CANCELLED:return W.CANCELLED;case st.UNKNOWN:return W.UNKNOWN;case st.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case st.INTERNAL:return W.INTERNAL;case st.UNAVAILABLE:return W.UNAVAILABLE;case st.UNAUTHENTICATED:return W.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case st.NOT_FOUND:return W.NOT_FOUND;case st.ALREADY_EXISTS:return W.ALREADY_EXISTS;case st.PERMISSION_DENIED:return W.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case st.ABORTED:return W.ABORTED;case st.OUT_OF_RANGE:return W.OUT_OF_RANGE;case st.UNIMPLEMENTED:return W.UNIMPLEMENTED;case st.DATA_LOSS:return W.DATA_LOSS;default:return de()}}(Pe=st||(st={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Pi([4294967295,4294967295],0);function Bp(i){const e=R0().encode(i),n=new Em;return n.update(e),new Uint8Array(n.digest())}function jp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Pi([n,s],0),new Pi([a,c],0)]}class kh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $o(`Invalid padding: ${n}`);if(s<0)throw new $o(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new $o(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Pi.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Pi.fromNumber(s)));return a.compare(C0)===1&&(a=new Pi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Bp(e),[s,a]=jp(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);if(!this.de(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new kh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=Bp(e),[s,a]=jp(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ia.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new tu(pe.min(),a,new Xe(Ae),pr(),Te())}}class ia{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ia(s,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Xm{constructor(e,n){this.targetId=e,this.me=n}}class Ym{constructor(e,n,s=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class bp{constructor(){this.fe=0,this.ge=$p(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),n=Te(),s=Te();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:de()}}),new ia(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=$p()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class P0{constructor(e){this.Le=e,this.Be=new Map,this.ke=pr(),this.qe=Rl(),this.Qe=Rl(),this.Ke=new Xe(Ae)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(oh(c))if(s===0){const f=new he(c.path);this.We(n,f,Mt.newNoDocument(f,pe.min()))}else Me(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),_=m?this.et(m,e,f):1;if(_!==0){this.He(n);const E=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,E)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Qr(s).toUint8Array()}catch(_){if(_ instanceof km)return Ns("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{m=new kh(f,a,c)}catch(_){return Ns(_ instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Le.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&oh(m.target)){const _=new he(m.target.path);this.st(_).has(f)||this.ot(f,_)||this.We(f,_,Mt.newNoDocument(_,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Te();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(_=>{const E=this.Ye(_);return!E||E.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new tu(e,n,this.Ke,this.ke,s);return this.ke=pr(),this.qe=Rl(),this.Qe=Rl(),this.Ke=new Xe(Ae),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new bp,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new dt(Ae),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(Ae),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new bp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Rl(){return new Xe(he.comparator)}function $p(){return new Xe(he.comparator)}const k0={asc:"ASCENDING",desc:"DESCENDING"},V0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D0={and:"AND",or:"OR"};class N0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lh(i,e){return i.useProto3Json||Kl(e)?e:{value:e}}function bl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function x0(i,e){return bl(i,e.toTimestamp())}function qn(i){return Me(!!i),pe.fromTimestamp(function(n){const s=Wr(n);return new ft(s.seconds,s.nanos)}(i))}function Vh(i,e){return uh(i,e).canonicalString()}function uh(i,e){const n=function(a){return new Qe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Zm(i){const e=Qe.fromString(i);return Me(ig(e)),e}function ch(i,e){return Vh(i.databaseId,e.path)}function Wc(i,e){const n=Zm(e);if(n.get(1)!==i.databaseId.projectId)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ae(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new he(tg(n))}function eg(i,e){return Vh(i.databaseId,e)}function L0(i){const e=Zm(i);return e.length===4?Qe.emptyPath():tg(e)}function hh(i){return new Qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function tg(i){return Me(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function qp(i,e,n){return{name:ch(i,e),fields:n.value.mapValue.fields}}function M0(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(E,I){return E.useProto3Json?(Me(I===void 0||typeof I=="string"),Rt.fromBase64String(I||"")):(Me(I===void 0||I instanceof Buffer||I instanceof Uint8Array),Rt.fromUint8Array(I||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(E){const I=E.code===void 0?W.UNKNOWN:Gm(E.code);return new ae(I,E.message||"")}(f);n=new Ym(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Wc(i,s.document.name),c=qn(s.document.updateTime),f=s.document.createTime?qn(s.document.createTime):pe.min(),m=new Gt({mapValue:{fields:s.document.fields}}),_=Mt.newFoundDocument(a,c,f,m),E=s.targetIds||[],I=s.removedTargetIds||[];n=new Nl(E,I,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Wc(i,s.document),c=s.readTime?qn(s.readTime):pe.min(),f=Mt.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Nl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Wc(i,s.document),c=s.removedTargetIds||[];n=new Nl([],c,a,null)}else{if(!("filter"in e))return de();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new S0(a,c),m=s.targetId;n=new Xm(m,f)}}return n}function O0(i,e){let n;if(e instanceof ra)n={update:qp(i,e.key,e.value)};else if(e instanceof Ch)n={delete:ch(i,e.key)};else if(e instanceof Yr)n={update:qp(i,e.key,e.data),updateMask:H0(e.fieldMask)};else{if(!(e instanceof w0))return de();n={verify:ch(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof Bl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ta)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof na)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof jl)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw de()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:x0(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:de()}(i,e.precondition)),n}function F0(i,e){return i&&i.length>0?(Me(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?qn(a.updateTime):qn(c);return f.isEqual(pe.min())&&(f=qn(c)),new _0(f,a.transformResults||[])}(n,e))):[]}function U0(i,e){return{documents:[eg(i,e.path)]}}function z0(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=eg(i,a);const c=function(E){if(E.length!==0)return rg(Wn.create(E,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(E){if(E.length!==0)return E.map(I=>function(F){return{field:Cs(F.field),direction:b0(F.dir)}}(I))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=lh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(e.endAt)),{ct:n,parent:a}}function B0(i){let e=L0(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Me(s===1);const I=n.from[0];I.allDescendants?a=I.collectionId:e=e.child(I.collectionId)}let c=[];n.where&&(c=function(V){const F=ng(V);return F instanceof Wn&&xm(F)?F.getFilters():[F]}(n.where));let f=[];n.orderBy&&(f=function(V){return V.map(F=>function(X){return new zl(Ps(X.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(F))}(n.orderBy));let m=null;n.limit&&(m=function(V){let F;return F=typeof V=="object"?V.value:V,Kl(F)?null:F}(n.limit));let _=null;n.startAt&&(_=function(V){const F=!!V.before,B=V.values||[];return new Ul(B,F)}(n.startAt));let E=null;return n.endAt&&(E=function(V){const F=!V.before,B=V.values||[];return new Ul(B,F)}(n.endAt)),i0(e,a,f,c,m,"F",_,E)}function j0(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ng(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ps(n.unaryFilter.field);return ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ps(n.unaryFilter.field);return ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ps(n.unaryFilter.field);return ht.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ps(n.unaryFilter.field);return ht.create(f,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(i):i.fieldFilter!==void 0?function(n){return ht.create(Ps(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(s=>ng(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(i):de()}function b0(i){return k0[i]}function $0(i){return V0[i]}function q0(i){return D0[i]}function Cs(i){return{fieldPath:i.canonicalString()}}function Ps(i){return At.fromServerFormat(i.fieldPath)}function rg(i){return i instanceof ht?function(n){if(n.op==="=="){if(Dp(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NAN"}};if(Vp(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Dp(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NAN"}};if(Vp(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(n.field),op:$0(n.op),value:n.value}}}(i):i instanceof Wn?function(n){const s=n.getFilters().map(a=>rg(a));return s.length===1?s[0]:{compositeFilter:{op:q0(n.op),filters:s}}}(i):de()}function H0(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ig(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,a,c=pe.min(),f=pe.min(),m=Rt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=_}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.ht=e}}function Q0(i){const e=B0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.ln=new G0}addToCollectionParentIndex(e,n){return this.ln.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Hr.min())}updateCollectionGroup(e,n,s){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class G0{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new dt(Qe.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new dt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Os(0)}static Qn(){return new Os(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp([i,e],[n,s]){const a=Ae(i,n);return a===0?Ae(e,s):a}class X0{constructor(e){this.Gn=e,this.buffer=new dt(Wp),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Wp(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Y0{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$s(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await bs(n)}await this.Yn(3e5)})}}class J0{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Ql.oe);const s=new X0(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Hp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hp):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,_,E;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),a=this.params.maximumSequenceNumbersToCollect):a=V,f=Date.now(),this.nthSequenceNumber(e,a))).next(V=>(s=V,m=Date.now(),this.removeTargets(e,s,n))).next(V=>(c=V,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(V=>(E=Date.now(),As()<=ke.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-I}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(_-m)+`ms
	Removed ${V} documents in `+(E-_)+`ms
Total Duration: ${E-I}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:V})))}}function Z0(i,e){return new J0(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.changes=new Di(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?j.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Ko(s.mutation,a,rn.empty(),ft.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Te()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Te()){const a=Ci();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=bo();return c.forEach((m,_)=>{f=f.insert(m,_.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ci();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Te()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=pr();const f=Qo(),m=function(){return Qo()}();return n.forEach((_,E)=>{const I=s.get(E.key);a.has(E.key)&&(I===void 0||I.mutation instanceof Yr)?c=c.insert(E.key,E):I!==void 0?(f.set(E.key,I.mutation.getFieldMask()),Ko(I.mutation,E,I.mutation.getFieldMask(),ft.now())):f.set(E.key,rn.empty())}),this.recalculateAndSaveOverlays(e,c).next(_=>(_.forEach((E,I)=>f.set(E,I)),n.forEach((E,I)=>{var V;return m.set(E,new tE(I,(V=f.get(E))!==null&&V!==void 0?V:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Qo();let a=new Xe((f,m)=>f-m),c=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(_=>{const E=n.get(_);if(E===null)return;let I=s.get(_)||rn.empty();I=m.applyToLocalView(E,I),s.set(_,I);const V=(a.get(m.batchId)||Te()).add(_);a=a.insert(m.batchId,V)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),E=_.key,I=_.value,V=jm();I.forEach(F=>{if(!c.has(F)){const B=Qm(n.get(F),s.get(F));B!==null&&V.set(F,B),c=c.add(F)}}),f.push(this.documentOverlayCache.saveOverlays(e,E,V))}return j.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return he.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):s0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):j.resolve(Ci());let m=-1,_=c;return f.next(E=>j.forEach(E,(I,V)=>(m<V.largestBatchId&&(m=V.largestBatchId),c.get(I)?j.resolve():this.remoteDocumentCache.getEntry(e,I).next(F=>{_=_.insert(I,F)}))).next(()=>this.populateOverlays(e,E,c)).next(()=>this.computeViews(e,_,E,Te())).next(I=>({batchId:m,changes:Bm(I)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(s=>{let a=bo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=bo();return this.indexManager.getCollectionParents(e,c).next(m=>j.forEach(m,_=>{const E=function(V,F){return new Xl(F,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(n,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,s,a).next(I=>{I.forEach((V,F)=>{f=f.insert(V,F)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((_,E)=>{const I=E.getKey();f.get(I)===null&&(f=f.insert(I,Mt.newInvalidDocument(I)))});let m=bo();return f.forEach((_,E)=>{const I=c.get(_);I!==void 0&&Ko(I.mutation,E,rn.empty(),ft.now()),Jl(n,E)&&(m=m.insert(_,E))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return j.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:qn(a.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:Q0(a.bundledQuery),readTime:qn(a.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.overlays=new Xe(he.comparator),this.Er=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ci();return j.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),j.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),j.resolve()}getOverlaysForCollection(e,n,s){const a=Ci(),c=n.length+1,f=new he(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const _=m.getNext().value,E=_.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===c&&_.largestBatchId>s&&a.set(_.getKey(),_)}return j.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Xe((E,I)=>E-I);const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let I=c.get(E.largestBatchId);I===null&&(I=Ci(),c=c.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const m=Ci(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((E,I)=>m.set(E,I)),!(m.size()>=a)););return j.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new I0(n,s));let c=this.Er.get(n);c===void 0&&(c=Te(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this.dr=new dt(vt.Ar),this.Rr=new dt(vt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new vt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new vt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new he(new Qe([])),s=new vt(n,e),a=new vt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new he(new Qe([])),s=new vt(n,e),a=new vt(n,e+1);let c=Te();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new vt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class vt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return he.comparator(e.key,n.key)||Ae(e.br,n.br)}static Vr(e,n){return Ae(e.br,n.br)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new dt(vt.Ar)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new T0(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new vt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return j.resolve(f)}lookupMutationBatch(e,n){return j.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return j.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new vt(n,0),a=new vt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),j.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new dt(Ae);return n.forEach(a=>{const c=new vt(a,0),f=new vt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),j.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;he.isDocumentKey(c)||(c=c.child(""));const f=new vt(new he(c),0);let m=new dt(Ae);return this.vr.forEachWhile(_=>{const E=_.key.path;return!!s.isPrefixOf(E)&&(E.length===a&&(m=m.add(_.br)),!0)},f),j.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Me(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return j.forEach(n.mutations,a=>{const c=new vt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new vt(n,0),a=this.vr.firstAfterOrEqual(s);return j.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this.Nr=e,this.docs=function(){return new Xe(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return j.resolve(s?s.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Mt.newInvalidDocument(a))}),j.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=pr();const f=n.path,m=new he(f.child("")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:E,value:{document:I}}=_.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||Fv(Ov(I),s)<=0||(a.has(I.key)||Jl(n,I))&&(c=c.insert(I.key,I.mutableCopy()))}return j.resolve(c)}getAllFromCollectionGroup(e,n,s,a){de()}Lr(e,n){return j.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new lE(this)}getSize(e){return j.resolve(this.size)}}class lE extends eE{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),j.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.persistence=e,this.Br=new Di(n=>Ih(n),Sh),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Dh,this.targetCount=0,this.Qr=Os.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),j.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Os(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Un(n),j.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),j.waitFor(c).next(()=>a)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return j.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),j.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),j.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return j.resolve(s)}containsKey(e,n){return j.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Ql(0),this.Ur=!1,this.Ur=!0,this.Wr=new sE,this.referenceDelegate=e(this),this.Gr=new uE(this),this.indexManager=new K0,this.remoteDocumentCache=function(a){return new aE(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new W0(n),this.jr=new rE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new oE(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const a=new cE(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return j.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class cE extends zv{constructor(e){super(),this.currentSequenceNumber=e}}class Nh{constructor(e){this.persistence=e,this.Zr=new Dh,this.Xr=null}static ei(e){return new Nh(e)}get ti(){if(this.Xr)return this.Xr;throw de()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),j.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),j.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,s=>{const a=he.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,pe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return j.or([()=>j.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class $l{constructor(e,n){this.persistence=e,this.ri=new Di(s=>bv(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=Z0(this,n)}static ei(e,n){return new $l(e,n)}Hr(){}Jr(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return j.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?j.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,pe.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),j.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),j.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kl(e.data.value)),n}ir(e,n,s){return j.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return j.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Te(),a=Te();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new xh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return c_()?8:Bv(l_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new hE;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(As()<=ke.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(As()<=ke.DEBUG&&te("QueryEngine","Query:",Rs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(As()<=ke.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):j.resolve())}Xi(e,n){if(Mp(n))return j.resolve(null);let s=$n(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=ah(n,null,"F"),s=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Te(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(_=>{const E=this.rs(n,m);return this.ss(n,E,f,_.readTime)?this.Xi(e,ah(n,null,"F")):this.os(e,E,n,_)}))})))}es(e,n,s,a){return Mp(n)||a.isEqual(pe.min())?j.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?j.resolve(null):(As()<=ke.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rs(n)),this.os(e,f,n,Mv(a,-1)).next(m=>m))})}rs(e,n){let s=new dt(Um(e));return n.forEach((a,c)=>{Jl(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return As()<=ke.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.Zi.getDocumentsMatchingQuery(e,n,Hr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Xe(Ae),this.cs=new Di(c=>Ih(c),Sh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nE(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function pE(i,e,n,s){return new dE(i,e,n,s)}async function og(i,e){const n=me(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let _=Te();for(const E of a){f.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}for(const E of c){m.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}return n.localDocuments.getDocuments(s,_).next(E=>({Ts:E,removedBatchIds:f,addedBatchIds:m}))})})}function mE(i,e){const n=me(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,_,E,I){const V=E.batch,F=V.keys();let B=j.resolve();return F.forEach(X=>{B=B.next(()=>I.getEntry(_,X)).next(Y=>{const H=E.docVersions.get(X);Me(H!==null),Y.version.compareTo(H)<0&&(V.applyToRemoteDocument(Y,E),Y.isValidDocument()&&(Y.setReadTime(E.commitVersion),I.addEntry(Y)))})}),B.next(()=>m.mutationQueue.removeMutationBatch(_,V))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let _=Te();for(let E=0;E<m.mutationResults.length;++E)m.mutationResults[E].transformResults.length>0&&(_=_.add(m.batch.mutations[E].key));return _}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function ag(i){const e=me(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function gE(i,e){const n=me(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((I,V)=>{const F=a.get(V);if(!F)return;m.push(n.Gr.removeMatchingKeys(c,I.removedDocuments,V).next(()=>n.Gr.addMatchingKeys(c,I.addedDocuments,V)));let B=F.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(V)!==null?B=B.withResumeToken(Rt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):I.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(I.resumeToken,s)),a=a.insert(V,B),function(Y,H,ge){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0}(F,B,I)&&m.push(n.Gr.updateTargetData(c,B))});let _=pr(),E=Te();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,I))}),m.push(yE(c,f,e.documentUpdates).next(I=>{_=I.Is,E=I.Es})),!s.isEqual(pe.min())){const I=n.Gr.getLastRemoteSnapshotVersion(c).next(V=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(I)}return j.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,_,E)).next(()=>_)}).then(c=>(n.us=a,c))}function yE(i,e,n){let s=Te(),a=Te();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=pr();return n.forEach((m,_)=>{const E=c.get(m);_.isFoundDocument()!==E.isFoundDocument()&&(a=a.add(m)),_.isNoDocument()&&_.version.isEqual(pe.min())?(e.removeEntry(m,_.readTime),f=f.insert(m,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||_.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(_),f=f.insert(m,_)):te("LocalStore","Ignoring outdated watch update for ",m,". Current version:",E.version," Watch version:",_.version)}),{Is:f,Es:a}})}function _E(i,e){const n=me(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function vE(i,e){const n=me(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,j.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new Br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function fh(i,e,n){const s=me(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!$s(f))throw f;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function Qp(i,e,n){const s=me(i);let a=pe.min(),c=Te();return s.persistence.runTransaction("Execute query","readwrite",f=>function(_,E,I){const V=me(_),F=V.cs.get(I);return F!==void 0?j.resolve(V.us.get(F)):V.Gr.getTargetData(E,I)}(s,f,$n(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(_=>{c=_})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:pe.min(),n?c:Te())).next(m=>(EE(s,a0(e),m),{documents:m,ds:c})))}function EE(i,e,n){let s=i.ls.get(e)||pe.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class Kp{constructor(){this.activeTargetIds=d0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wE{constructor(){this._o=new Kp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Kp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl=null;function Qc(){return Cl===null?Cl=function(){return 268435456+Math.round(2147483648*Math.random())}():Cl++,"0x"+Cl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class AE extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=Qc(),_=this.No(n,s.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${m}:`,_,a);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(E,c,f),this.Bo(n,_,E,a).then(I=>(te("RestConnection",`Received RPC '${n}' ${m}: `,I),I),I=>{throw Ns("RestConnection",`RPC '${n}' ${m} failed with error: `,I,"url: ",_,"request:",a),I})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=IE[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=Qc();return new Promise((f,m)=>{const _=new wm;_.setWithCredentials(!0),_.listenOnce(Tm.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Pl.NO_ERROR:const I=_.getResponseJson();te(xt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(I)),f(I);break;case Pl.TIMEOUT:te(xt,`RPC '${e}' ${c} timed out`),m(new ae(W.DEADLINE_EXCEEDED,"Request time out"));break;case Pl.HTTP_ERROR:const V=_.getStatus();if(te(xt,`RPC '${e}' ${c} failed with status:`,V,"response text:",_.getResponseText()),V>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F==null?void 0:F.error;if(B&&B.status&&B.message){const X=function(H){const ge=H.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ge)>=0?ge:W.UNKNOWN}(B.status);m(new ae(X,B.message))}else m(new ae(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new ae(W.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{te(xt,`RPC '${e}' ${c} completed.`)}});const E=JSON.stringify(a);te(xt,`RPC '${e}' ${c} sending request:`,a),_.send(n,"POST",E,s,15)})}qo(e,n,s){const a=Qc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Am(),m=Sm(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Lo(_.initMessageHeaders,n,s),_.encodeInitMessageHeaders=!0;const I=c.join("");te(xt,`Creating RPC '${e}' stream ${a}: ${I}`,_);const V=f.createWebChannel(I,_);let F=!1,B=!1;const X=new SE({Eo:H=>{B?te(xt,`Not sending because RPC '${e}' stream ${a} is closed:`,H):(F||(te(xt,`Opening RPC '${e}' stream ${a} transport.`),V.open(),F=!0),te(xt,`RPC '${e}' stream ${a} sending:`,H),V.send(H))},Ao:()=>V.close()}),Y=(H,ge,ye)=>{H.listen(ge,_e=>{try{ye(_e)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return Y(V,jo.EventType.OPEN,()=>{B||(te(xt,`RPC '${e}' stream ${a} transport opened.`),X.So())}),Y(V,jo.EventType.CLOSE,()=>{B||(B=!0,te(xt,`RPC '${e}' stream ${a} transport closed`),X.Do())}),Y(V,jo.EventType.ERROR,H=>{B||(B=!0,Ns(xt,`RPC '${e}' stream ${a} transport errored:`,H),X.Do(new ae(W.UNAVAILABLE,"The operation could not be completed")))}),Y(V,jo.EventType.MESSAGE,H=>{var ge;if(!B){const ye=H.data[0];Me(!!ye);const _e=ye,Ie=(_e==null?void 0:_e.error)||((ge=_e[0])===null||ge===void 0?void 0:ge.error);if(Ie){te(xt,`RPC '${e}' stream ${a} received error:`,Ie);const Je=Ie.status;let Ve=function(A){const P=st[A];if(P!==void 0)return Gm(P)}(Je),k=Ie.message;Ve===void 0&&(Ve=W.INTERNAL,k="Unknown error status: "+Je+" with message "+Ie.message),B=!0,X.Do(new ae(Ve,k)),V.close()}else te(xt,`RPC '${e}' stream ${a} received:`,ye),X.vo(ye)}}),Y(m,Im.STAT_EVENT,H=>{H.stat===nh.PROXY?te(xt,`RPC '${e}' stream ${a} detected buffering proxy`):H.stat===nh.NOPROXY&&te(xt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{X.bo()},0),X}}function Kc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i){return new N0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,s,a,c,f,m,_){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new lg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ae(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RE extends ug{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=M0(this.serializer,e),s=function(c){if(!("targetChange"in c))return pe.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?pe.min():f.readTime?qn(f.readTime):pe.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=hh(this.serializer),n.addTarget=function(c,f){let m;const _=f.target;if(m=oh(_)?{documents:U0(c,_)}:{query:z0(c,_).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Jm(c,f.resumeToken);const E=lh(c,f.expectedCount);E!==null&&(m.expectedCount=E)}else if(f.snapshotVersion.compareTo(pe.min())>0){m.readTime=bl(c,f.snapshotVersion.toTimestamp());const E=lh(c,f.expectedCount);E!==null&&(m.expectedCount=E)}return m}(this.serializer,e);const s=j0(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=hh(this.serializer),n.removeTarget=e,this.c_(n)}}class CE extends ug{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=F0(e.writeResults,e.commitTime),s=qn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=hh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>O0(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,uh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(W.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,uh(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ae(W.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class kE{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(dr(n),this.C_=!1):te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{Ni(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(_){const E=me(_);E.k_.add(4),await sa(E),E.K_.set("Unknown"),E.k_.delete(4),await ru(E)}(this))})}),this.K_=new kE(s,a)}}async function ru(i){if(Ni(i))for(const e of i.q_)await e(!0)}async function sa(i){for(const e of i.q_)await e(!1)}function cg(i,e){const n=me(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Fh(n)?Oh(n):qs(n).s_()&&Mh(n,e))}function Lh(i,e){const n=me(i),s=qs(n);n.B_.delete(e),s.s_()&&hg(n,e),n.B_.size===0&&(s.s_()?s.a_():Ni(n)&&n.K_.set("Unknown"))}function Mh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qs(i).V_(e)}function hg(i,e){i.U_.xe(e),qs(i).m_(e)}function Oh(i){i.U_=new P0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),qs(i).start(),i.K_.F_()}function Fh(i){return Ni(i)&&!qs(i).i_()&&i.B_.size>0}function Ni(i){return me(i).k_.size===0}function fg(i){i.U_=void 0}async function DE(i){i.K_.set("Online")}async function NE(i){i.B_.forEach((e,n)=>{Mh(i,e)})}async function xE(i,e){fg(i),Fh(i)?(i.K_.O_(e),Oh(i)):i.K_.set("Unknown")}async function LE(i,e,n){if(i.K_.set("Online"),e instanceof Ym&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ql(i,s)}else if(e instanceof Nl?i.U_.$e(e):e instanceof Xm?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(pe.min()))try{const s=await ag(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const I=c.B_.get(E);I&&c.B_.set(E,I.withResumeToken(_.resumeToken,f))}}),m.targetMismatches.forEach((_,E)=>{const I=c.B_.get(_);if(!I)return;c.B_.set(_,I.withResumeToken(Rt.EMPTY_BYTE_STRING,I.snapshotVersion)),hg(c,_);const V=new Br(I.target,_,E,I.sequenceNumber);Mh(c,V)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){te("RemoteStore","Failed to raise snapshot:",s),await ql(i,s)}}async function ql(i,e,n){if(!$s(e))throw e;i.k_.add(1),await sa(i),i.K_.set("Offline"),n||(n=()=>ag(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await ru(i)})}function dg(i,e){return e().catch(n=>ql(i,n,e))}async function iu(i){const e=me(i),n=Gr(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;ME(e);)try{const a=await _E(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,OE(e,a)}catch(a){await ql(e,a)}pg(e)&&mg(e)}function ME(i){return Ni(i)&&i.L_.length<10}function OE(i,e){i.L_.push(e);const n=Gr(i);n.s_()&&n.f_&&n.g_(e.mutations)}function pg(i){return Ni(i)&&!Gr(i).i_()&&i.L_.length>0}function mg(i){Gr(i).start()}async function FE(i){Gr(i).w_()}async function UE(i){const e=Gr(i);for(const n of i.L_)e.g_(n.mutations)}async function zE(i,e,n){const s=i.L_.shift(),a=Ph.from(s,e,n);await dg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await iu(i)}async function BE(i,e){e&&Gr(i).f_&&await async function(s,a){if(function(f){return A0(f)&&f!==W.ABORTED}(a.code)){const c=s.L_.shift();Gr(s).__(),await dg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await iu(s)}}(i,e),pg(i)&&mg(i)}async function Xp(i,e){const n=me(i);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const s=Ni(n);n.k_.add(3),await sa(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await ru(n)}async function jE(i,e){const n=me(i);e?(n.k_.delete(2),await ru(n)):e||(n.k_.add(2),await sa(n),n.K_.set("Unknown"))}function qs(i){return i.W_||(i.W_=function(n,s,a){const c=me(n);return c.b_(),new RE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:DE.bind(null,i),mo:NE.bind(null,i),po:xE.bind(null,i),R_:LE.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Fh(i)?Oh(i):i.K_.set("Unknown")):(await i.W_.stop(),fg(i))})),i.W_}function Gr(i){return i.G_||(i.G_=function(n,s,a){const c=me(n);return c.b_(),new CE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:FE.bind(null,i),po:BE.bind(null,i),p_:UE.bind(null,i),y_:zE.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await iu(i)):(await i.G_.stop(),i.L_.length>0&&(te("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new Uh(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zh(i,e){if(dr("AsyncQueue",`${e}: ${i}`),$s(i))return new ae(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{static emptySet(e){return new Vs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||he.comparator(n.key,s.key):(n,s)=>he.comparator(n.key,s.key),this.keyedMap=bo(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Vs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.z_=new Xe(he.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):de():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Fs{constructor(e,n,s,a,c,f,m,_,E){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Fs(e,n,Vs.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class $E{constructor(){this.queries=Jp(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=me(n),c=a.queries;a.queries=Jp(),c.forEach((f,m)=>{for(const _ of m.J_)_.onError(s)})})(this,new ae(W.ABORTED,"Firestore shutting down"))}}function Jp(){return new Di(i=>Fm(i),Yl)}async function qE(i,e){const n=me(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new bE,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=zh(f,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&Bh(n)}async function HE(i,e){const n=me(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function WE(i,e){const n=me(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&Bh(n)}function QE(i,e,n){const s=me(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function Bh(i){i.X_.forEach(e=>{e.next()})}var dh,Zp;(Zp=dh||(dh={})).na="default",Zp.Cache="cache";class KE{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Fs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==dh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.key=e}}class yg{constructor(e){this.key=e}}class GE{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Te(),this.mutatedKeys=Te(),this.Va=Um(e),this.ma=new Vs(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new Yp,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const _=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,E=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((I,V)=>{const F=a.get(I),B=Jl(this.query,V)?V:null,X=!!F&&this.mutatedKeys.has(F.key),Y=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let H=!1;F&&B?F.data.isEqual(B.data)?X!==Y&&(s.track({type:3,doc:B}),H=!0):this.ya(F,B)||(s.track({type:2,doc:B}),H=!0,(_&&this.Va(B,_)>0||E&&this.Va(B,E)<0)&&(m=!0)):!F&&B?(s.track({type:0,doc:B}),H=!0):F&&!B&&(s.track({type:1,doc:F}),H=!0,(_||E)&&(m=!0)),H&&(B?(f=f.add(B),c=Y?c.add(I):c.delete(I)):(f=f.delete(I),c=c.delete(I)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const I=this.query.limitType==="F"?f.last():f.first();f=f.delete(I.key),c=c.delete(I.key),s.track({type:1,doc:I})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((I,V)=>function(B,X){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return Y(B)-Y(X)}(I.type,V.type)||this.Va(I.doc,V.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],_=this.Ra.size===0&&this.current&&!a?1:0,E=_!==this.Aa;return this.Aa=_,f.length!==0||E?{snapshot:new Fs(this.query,e.ma,c,f,e.mutatedKeys,_===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Yp,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Te(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new yg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new gg(s))}),n}va(e){this.da=e.ds,this.Ra=Te();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Fs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class XE{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class YE{constructor(e){this.key=e,this.Fa=!1}}class JE{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Di(m=>Fm(m),Yl),this.Oa=new Map,this.Na=new Set,this.La=new Xe(he.comparator),this.Ba=new Map,this.ka=new Dh,this.qa={},this.Qa=new Map,this.Ka=Os.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function ZE(i,e,n=!0){const s=Ig(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await _g(s,e,n,!0),a}async function e1(i,e){const n=Ig(i);await _g(n,e,!0,!1)}async function _g(i,e,n,s){const a=await vE(i.localStore,$n(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await t1(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&cg(i.remoteStore,a),m}async function t1(i,e,n,s,a){i.Ua=(V,F,B)=>async function(Y,H,ge,ye){let _e=H.view.ga(ge);_e.ss&&(_e=await Qp(Y.localStore,H.query,!1).then(({documents:k})=>H.view.ga(k,_e)));const Ie=ye&&ye.targetChanges.get(H.targetId),Je=ye&&ye.targetMismatches.get(H.targetId)!=null,Ve=H.view.applyChanges(_e,Y.isPrimaryClient,Ie,Je);return tm(Y,H.targetId,Ve.ba),Ve.snapshot}(i,V,F,B);const c=await Qp(i.localStore,e,!0),f=new GE(e,c.ds),m=f.ga(c.documents),_=ia.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),E=f.applyChanges(m,i.isPrimaryClient,_);tm(i,n,E.ba);const I=new XE(e,n,f);return i.xa.set(e,I),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),E.snapshot}async function n1(i,e,n){const s=me(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!Yl(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await fh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Lh(s.remoteStore,a.targetId),ph(s,a.targetId)}).catch(bs)):(ph(s,a.targetId),await fh(s.localStore,a.targetId,!0))}async function r1(i,e){const n=me(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lh(n.remoteStore,s.targetId))}async function i1(i,e,n){const s=h1(i);try{const a=await function(f,m){const _=me(f),E=ft.now(),I=m.reduce((B,X)=>B.add(X.key),Te());let V,F;return _.persistence.runTransaction("Locally write mutations","readwrite",B=>{let X=pr(),Y=Te();return _.hs.getEntries(B,I).next(H=>{X=H,X.forEach((ge,ye)=>{ye.isValidDocument()||(Y=Y.add(ge))})}).next(()=>_.localDocuments.getOverlayedDocuments(B,X)).next(H=>{V=H;const ge=[];for(const ye of m){const _e=E0(ye,V.get(ye.key).overlayedDocument);_e!=null&&ge.push(new Yr(ye.key,_e,Vm(_e.value.mapValue),Dn.exists(!0)))}return _.mutationQueue.addMutationBatch(B,E,ge,m)}).next(H=>{F=H;const ge=H.applyToLocalDocumentSet(V,Y);return _.documentOverlayCache.saveOverlays(B,H.batchId,ge)})}).then(()=>({batchId:F.batchId,changes:Bm(V)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,m,_){let E=f.qa[f.currentUser.toKey()];E||(E=new Xe(Ae)),E=E.insert(m,_),f.qa[f.currentUser.toKey()]=E}(s,a.batchId,n),await oa(s,a.changes),await iu(s.remoteStore)}catch(a){const c=zh(a,"Failed to persist write");n.reject(c)}}async function vg(i,e){const n=me(i);try{const s=await gE(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Ba.get(c);f&&(Me(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Me(f.Fa):a.removedDocuments.size>0&&(Me(f.Fa),f.Fa=!1))}),await oa(n,s,e)}catch(s){await bs(s)}}function em(i,e,n){const s=me(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const _=me(f);_.onlineState=m;let E=!1;_.queries.forEach((I,V)=>{for(const F of V.J_)F.ea(m)&&(E=!0)}),E&&Bh(_)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function s1(i,e,n){const s=me(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let f=new Xe(he.comparator);f=f.insert(c,Mt.newNoDocument(c,pe.min()));const m=Te().add(c),_=new tu(pe.min(),new Map,new Xe(Ae),f,m);await vg(s,_),s.La=s.La.remove(c),s.Ba.delete(e),jh(s)}else await fh(s.localStore,e,!1).then(()=>ph(s,e,n)).catch(bs)}async function o1(i,e){const n=me(i),s=e.batch.batchId;try{const a=await mE(n.localStore,e);wg(n,s,null),Eg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await oa(n,a)}catch(a){await bs(a)}}async function a1(i,e,n){const s=me(i);try{const a=await function(f,m){const _=me(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let I;return _.mutationQueue.lookupMutationBatch(E,m).next(V=>(Me(V!==null),I=V.keys(),_.mutationQueue.removeMutationBatch(E,V))).next(()=>_.mutationQueue.performConsistencyCheck(E)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(E,I,m)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,I)).next(()=>_.localDocuments.getDocuments(E,I))})}(s.localStore,e);wg(s,e,n),Eg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await oa(s,a)}catch(a){await bs(a)}}function Eg(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function wg(i,e,n){const s=me(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function ph(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Tg(i,s)})}function Tg(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(Lh(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),jh(i))}function tm(i,e,n){for(const s of n)s instanceof gg?(i.ka.addReference(s.key,e),l1(i,s)):s instanceof yg?(te("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Tg(i,s.key)):de()}function l1(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(te("SyncEngine","New document in limbo: "+n),i.Na.add(s),jh(i))}function jh(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new he(Qe.fromString(e)),s=i.Ka.next();i.Ba.set(s,new YE(n)),i.La=i.La.insert(n,s),cg(i.remoteStore,new Br($n(Ah(n.path)),s,"TargetPurposeLimboResolution",Ql.oe))}}async function oa(i,e,n){const s=me(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,_)=>{f.push(s.Ua(_,e,n).then(E=>{var I;if((E||n)&&s.isPrimaryClient){const V=E?!E.fromCache:(I=n==null?void 0:n.targetChanges.get(_.targetId))===null||I===void 0?void 0:I.current;s.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(E){a.push(E);const V=xh.zi(_.targetId,E);c.push(V)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(_,E){const I=me(_);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>j.forEach(E,F=>j.forEach(F.Wi,B=>I.persistence.referenceDelegate.addReference(V,F.targetId,B)).next(()=>j.forEach(F.Gi,B=>I.persistence.referenceDelegate.removeReference(V,F.targetId,B)))))}catch(V){if(!$s(V))throw V;te("LocalStore","Failed to update sequence numbers: "+V)}for(const V of E){const F=V.targetId;if(!V.fromCache){const B=I.us.get(F),X=B.snapshotVersion,Y=B.withLastLimboFreeSnapshotVersion(X);I.us=I.us.insert(F,Y)}}}(s.localStore,c))}async function u1(i,e){const n=me(i);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const s=await og(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(_=>{_.reject(new ae(W.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await oa(n,s.Ts)}}function c1(i,e){const n=me(i),s=n.Ba.get(e);if(s&&s.Fa)return Te().add(s.key);{let a=Te();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function Ig(i){const e=me(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=vg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s1.bind(null,e),e.Ma.R_=WE.bind(null,e.eventManager),e.Ma.Wa=QE.bind(null,e.eventManager),e}function h1(i){const e=me(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a1.bind(null,e),e}class Hl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return pE(this.persistence,new fE,e.initialUser,this.serializer)}ja(e){return new sg(Nh.ei,this.serializer)}za(e){return new wE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hl.provider={build:()=>new Hl};class f1 extends Hl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Me(this.persistence.referenceDelegate instanceof $l);const s=this.persistence.referenceDelegate.garbageCollector;return new Y0(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new sg(s=>$l.ei(s,n),this.serializer)}}class mh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>em(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=u1.bind(null,this.syncEngine),await jE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $E}()}createDatastore(e){const n=nu(e.databaseInfo.databaseId),s=function(c){return new AE(c)}(e.databaseInfo);return function(c,f,m,_){return new PE(c,f,m,_)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new VE(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>em(this.syncEngine,n,0),function(){return Gp.p()?new Gp:new TE}())}createSyncEngine(e,n){return function(a,c,f,m,_,E,I){const V=new JE(a,c,f,m,_,E);return I&&(V.$a=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=me(a);te("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await sa(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mh.provider={build:()=>new mh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{te("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(te("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=zh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Gc(i,e){i.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await og(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function nm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await m1(i);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Xp(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Xp(e.remoteStore,a)),i._onlineComponents=e}async function m1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gc(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===W.FAILED_PRECONDITION||a.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ns("Error using user provided cache. Falling back to memory cache: "+n),await Gc(i,new Hl)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Gc(i,new f1(void 0));return i._offlineComponents}async function Sg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await nm(i,i._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await nm(i,new mh))),i._onlineComponents}function g1(i){return Sg(i).then(e=>e.syncEngine)}async function rm(i){const e=await Sg(i),n=e.eventManager;return n.onListen=ZE.bind(null,e.syncEngine),n.onUnlisten=n1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=e1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=r1.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(i,e,n){if(!n)throw new ae(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function y1(i,e,n,s){if(e===!0&&s===!0)throw new ae(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function sm(i){if(!he.isDocumentKey(i))throw new ae(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function om(i){if(he.isDocumentKey(i))throw new ae(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":de()}function $r(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ae(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bh(i);throw new ae(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ag((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ae(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class su{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new am({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new am(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Rv;switch(s.type){case"firstParty":return new Vv(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=im.get(n);s&&(te("ComponentProvider","Removing Datastore"),im.delete(n),s.terminate())}(this),Promise.resolve()}}function _1(i,e,n,s={}){var a;const c=(i=$r(i,su))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,_;if(typeof s.mockUserToken=="string")m=s.mockUserToken,_=Lt.MOCK_USER;else{m=a_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ae(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Lt(E)}i._authCredentials=new Cv(new Rm(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ou(this.firestore,e,this._query)}}class sn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class qr extends ou{constructor(e,n,s){super(e,n,Ah(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new he(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function Cg(i,e,...n){if(i=hr(i),Rg("collection","path",e),i instanceof su){const s=Qe.fromString(e,...n);return om(s),new qr(i,null,s)}{if(!(i instanceof sn||i instanceof qr))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return om(s),new qr(i.firestore,null,s)}}function $h(i,e,...n){if(i=hr(i),arguments.length===1&&(e=Cm.newId()),Rg("doc","path",e),i instanceof su){const s=Qe.fromString(e,...n);return sm(s),new sn(i,null,new he(s))}{if(!(i instanceof sn||i instanceof qr))throw new ae(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return sm(s),new sn(i.firestore,i instanceof qr?i.converter:null,new he(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new lg(this,"async_queue_retry"),this.fu=()=>{const s=Kc();s&&te("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Kc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Kc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new ki;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!$s(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw dr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Uh.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&de()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function um(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1}(i,["next","error","complete"])}class Us extends su{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new lm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lm(e),this._firestoreClient=void 0,await e}}}function v1(i,e){const n=typeof i=="object"?i:gv(),s=typeof i=="string"?i:"(default)",a=fv(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=s_("firestore");c&&_1(a,...c)}return a}function Pg(i){if(i._terminated)throw new ae(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||E1(i),i._firestoreClient}function E1(i){var e,n,s;const a=i._freezeSettings(),c=function(m,_,E,I){return new Hv(m,_,E,I.host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,Ag(I.experimentalLongPollingOptions),I.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new p1(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const _=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(_),_online:_}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zs(Rt.fromBase64String(e))}catch(n){throw new ae(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zs(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=/^__.*__$/;class T1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ra(e,this.data,n,this.fieldTransforms)}}class kg{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Vg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Qh{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Qh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Wl(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Vg(this.Mu)&&w1.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class I1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||nu(e)}$u(e,n,s,a=!1){return new Qh({Mu:e,methodName:n,Ku:s,path:At.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dg(i){const e=i._freezeSettings(),n=nu(i._databaseId);return new I1(i._databaseId,!!e.ignoreUndefinedProperties,n)}function S1(i,e,n,s,a,c={}){const f=i.$u(c.merge||c.mergeFields?2:0,e,n,a);Kh("Data must be an object, but it was:",f,s);const m=Ng(s,f);let _,E;if(c.merge)_=new rn(f.fieldMask),E=f.fieldTransforms;else if(c.mergeFields){const I=[];for(const V of c.mergeFields){const F=gh(e,V,n);if(!f.contains(F))throw new ae(W.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);Lg(I,F)||I.push(F)}_=new rn(I),E=f.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,E=f.fieldTransforms;return new T1(new Gt(m),_,E)}class lu extends qh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lu}}function A1(i,e,n,s){const a=i.$u(1,e,n);Kh("Data must be an object, but it was:",a,s);const c=[],f=Gt.empty();Xr(s,(_,E)=>{const I=Gh(e,_,n);E=hr(E);const V=a.Bu(I);if(E instanceof lu)c.push(I);else{const F=uu(E,V);F!=null&&(c.push(I),f.set(I,F))}});const m=new rn(c);return new kg(f,m,a.fieldTransforms)}function R1(i,e,n,s,a,c){const f=i.$u(1,e,n),m=[gh(e,s,n)],_=[a];if(c.length%2!=0)throw new ae(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<c.length;F+=2)m.push(gh(e,c[F])),_.push(c[F+1]);const E=[],I=Gt.empty();for(let F=m.length-1;F>=0;--F)if(!Lg(E,m[F])){const B=m[F];let X=_[F];X=hr(X);const Y=f.Bu(B);if(X instanceof lu)E.push(B);else{const H=uu(X,Y);H!=null&&(E.push(B),I.set(B,H))}}const V=new rn(E);return new kg(I,V,f.fieldTransforms)}function uu(i,e){if(xg(i=hr(i)))return Kh("Unsupported field value:",e,i),Ng(i,e);if(i instanceof qh)return function(s,a){if(!Vg(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let _=uu(m,a.ku(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=hr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return p0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ft.fromDate(s);return{timestampValue:bl(a.serializer,c)}}if(s instanceof ft){const c=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bl(a.serializer,c)}}if(s instanceof Hh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zs)return{bytesValue:Jm(a.serializer,s._byteString)};if(s instanceof sn){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Wh)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.qu("VectorValues must only contain numeric values.");return Rh(m.serializer,_)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${bh(s)}`)}(i,e)}function Ng(i,e){const n={};return Pm(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(i,(s,a)=>{const c=uu(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function xg(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof Hh||i instanceof zs||i instanceof sn||i instanceof qh||i instanceof Wh)}function Kh(i,e,n){if(!xg(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=bh(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function gh(i,e,n){if((e=hr(e))instanceof au)return e._internalPath;if(typeof e=="string")return Gh(i,e);throw Wl("Field path arguments must be of type string or ",i,!1,void 0,n)}const C1=new RegExp("[~\\*/\\[\\]]");function Gh(i,e,n){if(e.search(C1)>=0)throw Wl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new au(...e.split("."))._internalPath}catch{throw Wl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Wl(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(c||f)&&(_+=" (found",c&&(_+=` in field ${s}`),f&&(_+=` in document ${a}`),_+=")"),new ae(W.INVALID_ARGUMENT,m+i+_)}function Lg(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Og("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P1 extends Mg{data(){return super.data()}}function Og(i,e){return typeof e=="string"?Gh(i,e):e instanceof au?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ae(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V1{convertValue(e,n="none"){switch(Kr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Xr(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>nt(f.doubleValue));return new Wh(c)}convertGeoPoint(e){return new Hh(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Gl(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jo(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Qe.fromString(e);Me(ig(s));const a=new Zo(s.get(1),s.get(3)),c=new he(s.popFirst(5));return a.isEqual(n)||dr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fg extends Mg{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Og("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class xl extends Fg{data(e={}){return super.data(e)}}class N1{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new qo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new xl(this._firestore,this._userDataWriter,s.key,s,new qo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const _=new xl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new qo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const _=new xl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new qo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let E=-1,I=-1;return m.type!==0&&(E=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),I=f.indexOf(m.doc.key)),{type:x1(m.type),doc:_,oldIndex:E,newIndex:I}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function x1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}class Ug extends V1{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function L1(i,e,n,...s){i=$r(i,sn);const a=$r(i.firestore,Us),c=Dg(a);let f;return f=typeof(e=hr(e))=="string"||e instanceof au?R1(c,"updateDoc",i._key,e,n,s):A1(c,"updateDoc",i._key,e),Xh(a,[f.toMutation(i._key,Dn.exists(!0))])}function M1(i){return Xh($r(i.firestore,Us),[new Ch(i._key,Dn.none())])}function O1(i,e){const n=$r(i.firestore,Us),s=$h(i),a=D1(i.converter,e);return Xh(n,[S1(Dg(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Dn.exists(!1))]).then(()=>s)}function F1(i,...e){var n,s,a;i=hr(i);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||um(e[f])||(c=e[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(um(e[f])){const V=e[f];e[f]=(n=V.next)===null||n===void 0?void 0:n.bind(V),e[f+1]=(s=V.error)===null||s===void 0?void 0:s.bind(V),e[f+2]=(a=V.complete)===null||a===void 0?void 0:a.bind(V)}let _,E,I;if(i instanceof sn)E=$r(i.firestore,Us),I=Ah(i._key.path),_={next:V=>{e[f]&&e[f](U1(E,i,V))},error:e[f+1],complete:e[f+2]};else{const V=$r(i,ou);E=$r(V.firestore,Us),I=V._query;const F=new Ug(E);_={next:B=>{e[f]&&e[f](new N1(E,F,V,B))},error:e[f+1],complete:e[f+2]},k1(i._query)}return function(F,B,X,Y){const H=new d1(Y),ge=new KE(B,H,X);return F.asyncQueue.enqueueAndForget(async()=>qE(await rm(F),ge)),()=>{H.eu(),F.asyncQueue.enqueueAndForget(async()=>HE(await rm(F),ge))}}(Pg(E),I,m,_)}function Xh(i,e){return function(s,a){const c=new ki;return s.asyncQueue.enqueueAndForget(async()=>i1(await g1(s),a,c)),c.promise}(Pg(i),e)}function U1(i,e,n){const s=n.docs.get(e._key),a=new Ug(i);return new Fg(i,a,e._key,s,new qo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){js=a})(mv),Ol(new Go("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Us(new Pv(s.getProvider("auth-internal")),new Nv(s.getProvider("app-check-internal")),function(E,I){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ae(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(E.options.projectId,I)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),ks(Sp,"4.7.5",e),ks(Sp,"4.7.5","esm2017")})();var z1="firebase",B1="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(z1,B1,"app");const j1={apiKey:"AIzaSyA7cHxZiGeJfLg2lPAMDD2t5-_a8uBEHIQ",authDomain:"to-do-list-dd608.firebaseapp.com",projectId:"to-do-list-dd608",storageBucket:"to-do-list-dd608.firebasestorage.app",messagingSenderId:"451080964598",appId:"1:451080964598:web:e0b9656a47eb5617d99fd7"},b1=ym(j1),cu=v1(b1);function $1(){const[i,e]=Ds.useState(""),n=a=>{a.preventDefault(),i&&(s(i),e(""))},s=async a=>{await O1(Cg(cu,"todos"),{todo:a})};return Ue.jsx("div",{children:Ue.jsxs("form",{className:"Todoform",onSubmit:n,children:[Ue.jsx("input",{type:"text",value:i,onChange:a=>e(a.target.value),className:"todo-input",placeholder:"Enter task for today"}),Ue.jsx("button",{type:"submit",className:"todo-btn",children:"Add Task"})]})})}function q1({task:i}){const[e,n]=Ds.useState(i.task),s=c=>{c.preventDefault(),a(e,i.id)},a=async(c,f)=>{const m=$h(cu,"todos",f);await L1(m,{todo:c})};return Ue.jsx(Ue.Fragment,{children:Ue.jsxs("form",{onSubmit:s,className:"TodoForm",children:[Ue.jsx("input",{type:"text",value:e,onChange:c=>n(c.target.value),className:"todo-input",placeholder:"Update Task"}),Ue.jsx("button",{type:"submit",className:"todo-btn",children:"Update"})]})})}function H1({task:i,toggleComplete:e,editTodo:n}){const s=async a=>{confirm("are you sure want to delete")&&await M1($h(cu,"todos",a))};return Ue.jsx(Ue.Fragment,{children:Ue.jsxs("div",{className:"Todo",children:[Ue.jsx("p",{className:`${i.completed?"completed":"incompleted"}`,onClick:()=>e(i.id),children:i.task}),Ue.jsxs("div",{children:[Ue.jsx("button",{className:"edit-btn",onClick:()=>n(i.id),children:"Edit"}),Ue.jsx("button",{className:"delete-btn",onClick:()=>s(i.id),children:"Delete"})]})]})})}function W1(){const[i,e]=Ds.useState([]);Ds.useEffect(()=>{const a=F1(Cg(cu,"todos"),c=>{e(c.docs.map(f=>({id:f.id,task:f.data().todo})))});return()=>a()},[]);const n=a=>{e(i.map(c=>c.id===a?{...c,completed:!c.completed}:c))},s=a=>{e(i.map(c=>c.id===a?{...c,isEditing:!c.isEditing}:c))};return Ue.jsx(Ue.Fragment,{children:Ue.jsxs("div",{className:"TodoWrapper",children:[Ue.jsx("h1",{children:"ToDo List"}),Ue.jsx($1,{}),i.map(a=>a.isEditing?Ue.jsx(q1,{task:a}):Ue.jsx(H1,{task:a,editTodo:s,toggleComplete:n},a.id))]})})}function Q1(){return Ds.useState(0),Ue.jsx(Ue.Fragment,{children:Ue.jsx(W1,{})})}Gy.createRoot(document.getElementById("root")).render(Ue.jsx(Ds.StrictMode,{children:Ue.jsx(Q1,{})}));
